"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2746],{65262:function(e,n,t){var r=t(85893);t(67294);var i=t(97956),o=t(22483),s=t(72490),u=t(84283),l=t(54232);n.Z=e=>{let{children:n,isStyled:t}=e;return(0,r.jsx)(l.m.span,{...t&&{sx:{"& *":{wordBreak:"break-all"},"& h1,h2,h3,h4,h5,h6":{fontSize:"xl",fontWeight:500,mb:2},"& p":{mb:4},"& ul":{pl:8,mb:4},"& a":{color:"primary.color"}}},children:(0,r.jsx)(i.D,{linkTarget:"_blank",remarkPlugins:[s.Z],components:{code(e){var n;let{node:t,inline:i,className:s,...c}=e,d=/language-(\w+)/.exec(s||""),a=null==t?void 0:null===(n=t.data)||void 0===n?void 0:n.meta;return(0,r.jsx)(l.m.span,{sx:{"& *":{fontSize:{base:"8",sm:"10",md:"sm",lg:"md"}}},children:(0,r.jsx)(o.Z,{style:u.vk,language:(null==d?void 0:d[1])||"",showLineNumbers:!0,wrapLines:!!a,useInlineStyles:!0,...c})})}},children:n})})}},41156:function(e,n){let t=Object.freeze({IDLE:"IDLE",STARTED:"STARTED",PASSED:"PASSED",FAILED:"FAILED",ERROR:"ERROR"});n.Z=t},12746:function(e,n,t){t.d(n,{ED:function(){return u},G6:function(){return p},Vs:function(){return v},rX:function(){return y},zn:function(){return N},Fr:function(){return K},T3:function(){return P}});var r=t(85893),i=t(41156),o=t(44366),s=t(67294),u=e=>{let{handleStartTest:n}=e,{quizStatus:{questions:t=[],currentQuestion:u,status:l}}=(0,s.useContext)(o.p);switch(l){case i.Z.IDLE:return(0,r.jsx)(y,{handleStartTest:n});case i.Z.STARTED:return(0,r.jsx)(N,{question:null==t?void 0:t[u]},null==t?void 0:t[u].questionId);case i.Z.FAILED:case i.Z.PASSED:return(0,r.jsx)(K,{});default:return(0,r.jsx)(p,{handleStartTest:n})}},l=t(7335),c=t(204),d=t(31507),a=t(48543),x=t(96272),h=t(5233),f=t(20823),m=t(33299),p=e=>{let{handleStartTest:n}=e,{data:t}=(0,m.useSession)(),{quizStatus:{isLoading:i}}=(0,s.useContext)(o.p),{t:u}=(0,h.$G)("course-completion"),{isOpen:p,onClose:g,onOpen:j}=(0,l.q)();return(0,r.jsxs)(c.k,{mt:5,gap:5,direction:"column",children:[(0,r.jsxs)(d.b,{status:"error",children:[(0,r.jsx)(a.z,{}),u("error.description")]}),(0,r.jsx)(x.z,{onClick:n,alignSelf:"center",isLoading:i,children:u("error.button")}),!t&&(0,r.jsx)(f.Z,{isOpen:p,onClose:g,onOpen:j})]})},g=t(14418),j=t(88911),S=t(23100),b=t(15874),C=e=>{let{totalQuestionCount:n=0,currentQuestionCount:t=0}=e,{t:i}=(0,h.$G)("course-completion");return(0,r.jsxs)(c.k,{flexGrow:"1",align:"center",gap:2,children:[(0,r.jsxs)(j.x,{fontSize:"sm",color:"primary.color",fontWeight:"medium",children:[i("header.progressPrefix")," ",t,"/",n]}),(0,r.jsx)(S.xu,{flex:"1",children:(0,r.jsx)(b.Z,{value:t/n*100,progressProps:{variant:"secondary",minH:0,h:2}})})]})},v=()=>{let{quizStatus:{status:e,totalQuestions:n,currentQuestion:t}}=(0,s.useContext)(o.p),{t:u}=(0,h.$G)("course-completion");return(0,r.jsxs)(c.k,{justifyContent:"space-between",align:{base:"flex-start",md:"center"},direction:{base:"column",md:"row"},children:[(0,r.jsx)(g.X,{size:{base:"sm",md:"md"},fontWeight:"bold",flex:"5",children:u("header.title")}),e===i.Z.STARTED&&(0,r.jsx)(C,{totalQuestionCount:n,currentQuestionCount:t+1})]})},z=t(90634),y=e=>{let{handleStartTest:n}=e,{quizStatus:{isLoading:t}}=(0,s.useContext)(o.p),{t:i}=(0,h.$G)("course-completion"),{isOpen:u,onClose:d,onOpen:a}=(0,l.q)();return(0,r.jsxs)(z.g,{children:[(0,r.jsxs)(c.k,{fontSize:"md",fontWeight:"medium",gap:5,direction:"column",mt:5,children:[(0,r.jsx)(j.x,{children:i("intro.description.text1")}),(0,r.jsx)(j.x,{children:i("intro.description.text2")}),(0,r.jsx)(j.x,{children:i("intro.description.text3")}),(0,r.jsx)(j.x,{children:i("intro.description.text4")})]}),(0,r.jsx)(x.z,{onClick:n,alignSelf:"center",isLoading:t,px:10,isOpen:u,onClose:d,onOpen:a,children:(0,r.jsx)(j.x,{children:i("intro.button")})})]})},E=t(54232),I=t(84920),k=t(77840),w=t(24804),T=t(39047);let A=(e,n)=>{let t=Object.entries(e).map(e=>{let[t,r]=e,i=n.find(e=>e.questionId===t);return{questionId:t,answerIndex:r,extraContentId:null==i?void 0:i.extraContentId}});return t};var D=t(53416),Z=t(11336),q=t(59630),Q=t(65262);let{chakra:$,Flex:_,Box:R,useCheckbox:L}=t(53159);var P=e=>{let{radioColor:n="uncheckable.radio.selected.bg",dotColor:t="uncheckable.radio.selected.dot.bg",...i}=e,{state:o,getCheckboxProps:s,getInputProps:u,getLabelProps:l,htmlProps:c,getRootProps:d}=L(i),{testKey:a,...x}=c;return(0,r.jsxs)($.label,{w:"full",display:"flex",flexDirection:"row",alignItems:"center",gap:2,cursor:d().disabled?"no-drop":"pointer",...x,children:[(0,r.jsx)($.input,{...u(),"data-testid":i.testKey}),(0,r.jsx)(_,{alignItems:"center",justifyContent:"center",border:o.isChecked?"0":"2px solid",borderColor:"gray.200",bg:"uncheckable.radio.bg",rounded:"full",w:4,minW:4,minH:4,h:4,...s(),children:o.isChecked&&(0,r.jsx)(R,{w:"full",h:"full",rounded:"full",bg:n,position:"relative",border:"0",display:"flex",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(R,{w:"35%",h:"35%",bgColor:t,rounded:"full",border:"0"})})}),(0,r.jsx)(R,{...l(),maxW:{base:"320",md:"unset"},children:i.children})]})},O=t(50319),W=t(59306);let G=(0,E.m)(Z.E.div,{shouldForwardProp:e=>(0,q.Z)(e)||(0,I.x)(e)});var N=e=>{let{question:{options:n,title:t}}=e,{quizStatus:{currentQuestion:i,questions:u,answers:l,isLoading:c,slug:d},dispatch:a}=(0,s.useContext)(o.p),[f]=(0,O.D)(W._,{refetchQueries:["userPoints"]}),{t:m}=(0,h.$G)("course-completion"),{getCheckboxProps:p}=(0,k.u)({}),[j,S]=(0,s.useState)(()=>{var e,n;return null!==(n=null==l?void 0:l[null===(e=u[i])||void 0===e?void 0:e.questionId])&&void 0!==n?n:-1}),b=(e,n)=>{n===j&&(S(-1),a((0,T.u$)(void 0))),e&&n!==j&&(S(n),a((0,T.u$)(n)))},C=i===(null==u?void 0:u.length)-1,v=async()=>{a((0,T.K4)(!0));let e=A(l,u);f({variables:{courseQuizAnswer:e,courseSlug:d},onCompleted:e=>{let{endCourseQuiz:n}=e;a((0,T.K4)(!1)),a((0,T.Ho)(n))},onError:()=>{}})};return(0,r.jsxs)(z.g,{gap:5,align:"start",children:[(0,r.jsxs)(G,{initial:{x:150,opacity:0},animate:{x:0,opacity:1},exit:{x:-150,opacity:0},transition:{duration:.3},w:"full",children:[(0,r.jsx)(g.X,{fontSize:{base:"xs",sm:"sm",md:"md"},fontWeight:"bold",lineHeight:"tall",my:5,children:(0,r.jsx)(Q.Z,{children:t})}),(0,r.jsx)(z.g,{direction:"row",align:"start",gap:5,overflow:"hidden",fontSize:{base:"xs",sm:"sm",md:"md"},children:n.map((e,n)=>(0,r.jsx)(P,{testKey:"quiz-option-".concat(n),...p({value:j}),onChange:e=>b(e.target.value,n),isChecked:n===j,children:(0,r.jsx)(Q.Z,{children:e})},(0,D.x0)()))})]}),(0,r.jsxs)(w.U,{w:"full",justifyContent:"flex-end",gap:2,children:[0!==i&&(0,r.jsx)(x.z,{onClick:()=>{a((0,T.VM)())},variant:"ghost",fontSize:{base:"xs",sm:"sm",md:"md"},children:m("question.previousButton")}),(0,r.jsx)(x.z,{onClick:C?v:()=>{a((0,T.Z$)())},isLoading:c,fontSize:{base:"xs",sm:"sm",md:"md"},children:m(C?"question.completeTest":"question.nextButton")})]})]})},F=t(96118),H=t(11163),K=()=>{let{quizStatus:{status:e,results:n,slug:t}}=(0,s.useContext)(o.p),{push:u}=(0,H.useRouter)(),{t:l}=(0,h.$G)("course-completion"),{correctCount:d,emptyCount:a,score:f,wrongCount:m}=n;return(0,r.jsxs)(z.g,{alignItems:"flex-start",gap:5,children:[(0,r.jsxs)(F.K,{alignItems:"stretch",mt:5,direction:{base:"column",md:"row"},children:[(0,r.jsx)(c.k,{bg:"transparent",border:"1px solid",borderColor:"orange.300",px:4,py:2,alignItems:"center",justifyContent:"center",borderRadius:"md",children:(0,r.jsx)(j.x,{fontSize:"md",fontWeight:"bold",children:"".concat(d," ").concat(l("result.correct")," ").concat(m," ").concat(l("result.wrong")," - ").concat(a," ").concat(l("result.empty"))})}),(0,r.jsx)(c.k,{bg:"orange.300",justifyContent:"center",alignItems:"center",px:4,py:2,borderRadius:"md",children:(0,r.jsx)(j.x,{fontSize:"md",fontWeight:"bold",children:"".concat(l("result.score"),": %").concat(f)})})]}),(0,r.jsx)(z.g,{children:e===i.Z.FAILED?(0,r.jsxs)(S.xu,{fontSize:"md",fontWeight:"medium",lineHeight:"tall",children:[(0,r.jsx)(j.x,{children:l("result.description.failed.text1")}),(0,r.jsx)(j.x,{children:l("result.description.failed.text2")})]}):(0,r.jsxs)(S.xu,{fontSize:"md",fontWeight:"medium",lineHeight:"tall",children:[(0,r.jsx)(j.x,{children:l("result.description.passed.text1")}),(0,r.jsx)(j.x,{children:l("result.description.passed.text2")})]})}),(0,r.jsx)(c.k,{alignItems:"center",justifyContent:"center",w:"full",children:(0,r.jsx)(x.z,{onClick:()=>{e===i.Z.PASSED?u("/paths"):u("/courses/".concat(t))},children:l(e===i.Z.FAILED?"result.startCourse":"result.continue")})})]})}},39047:function(e,n,t){t.d(n,{Ho:function(){return c},K4:function(){return o},VM:function(){return u},Z$:function(){return s},u$:function(){return l},ve:function(){return i}});var r=t(60322);let i=e=>({type:r.rC,payload:{quizData:e}}),o=e=>({type:r.cS,payload:e}),s=()=>({type:r.T_}),u=()=>({type:r.NQ}),l=e=>({type:r.kV,payload:{answer:e}}),c=e=>({type:r.XG,payload:e})},44366:function(e,n,t){t.d(n,{p:function(){return o},v:function(){return s}});var r=t(85893),i=t(67294);let o=(0,i.createContext)(),s=e=>{let{children:n,quizStatus:t,dispatch:i}=e;return(0,r.jsx)(o.Provider,{value:{quizStatus:t,dispatch:i},children:n})}},60322:function(e,n,t){t.d(n,{NQ:function(){return u},T_:function(){return o},XG:function(){return l},cS:function(){return i},kV:function(){return s},rC:function(){return r}});let r="START_QUIZ",i="SET_LOADING",o="NEXT_QUESTION",s="SET_ANSWER",u="PREVIOUS_QUESTION",l="COMPLETE_QUIZ"},59306:function(e,n,t){t.d(n,{_:function(){return l},g:function(){return u}});var r=t(82729),i=t(17283);function o(){let e=(0,r._)(["\n  mutation startCourseQuiz($courseSlug: String!) {\n    startCourseQuiz(courseSlug: $courseSlug) {\n      isError\n      isAlert\n      courseTitle\n      questions {\n        questionId\n        extraContentId\n        title\n        options\n      }\n    }\n  }\n"]);return o=function(){return e},e}function s(){let e=(0,r._)(["\n  mutation endCourseQuiz($courseQuizAnswer: [CourseQuizAnswer]!, $courseSlug: String!) {\n    endCourseQuiz(courseQuizAnswer: $courseQuizAnswer, courseSlug: $courseSlug) {\n      completionTime\n      emptyCount\n      wrongCount\n      correctCount\n      score\n    }\n  }\n"]);return s=function(){return e},e}let u=(0,i.Ps)(o()),l=(0,i.Ps)(s())}}]);