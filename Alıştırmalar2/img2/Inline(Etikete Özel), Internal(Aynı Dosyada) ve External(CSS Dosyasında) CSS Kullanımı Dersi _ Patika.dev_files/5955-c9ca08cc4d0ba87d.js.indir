"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5955],{27034:function(e,l,t){var o=t(85893),s=t(85223),r=t(12498),n=t(67294);let a=(e,l)=>e.toLocaleLowerCase("tr-TR").includes(null==l?void 0:l.toLocaleLowerCase("tr-TR")),i=(e,l)=>"dark"===e?"white":l?"white":"text.color",c=e=>{let{id:l,rules:t,isMulti:c,control:u,name:d="",placeholder:g,colorScheme:h,description:x,isRequired:b,defaultValue:p,options:m=[],isClearable:f=!1,menuPosition:v="absolute",onChange:j,styles:y={},...k}=e,{colorMode:C}=(0,r.If)();return(0,o.jsx)(s.Z,{name:d,isClearable:f,isMulti:c,filterOption:(e,l)=>{var t,o;let{data:s}=e;return(null==k?void 0:k.getOptionLabel)?a(null===(t=k.getOptionLabel(s))||void 0===t?void 0:t.toString(),l):a(null===(o=s.label)||void 0===o?void 0:o.toString(),l)},menuPosition:v,closeMenuOnSelect:!0,onChange:j,defaultValue:p,colorScheme:h,placeholder:g,styles:{menuPortal:e=>({...e,zIndex:9999})},options:m,instanceId:(0,n.useId)(),chakraStyles:{container:e=>({...e,border:"1px",borderRadius:"lg",bg:"dark"===C?"gray.darker":"white",color:"dark"===C?"white":"black",borderColor:"blackAlpha.50",...y.container}),option:(e,l)=>({...e,bg:l.isSelected?"primary.color":"card.bg",_hover:{bg:l.isSelected?"primary.color":"select.option.hover.bg"},color:i(C,l.isSelected)}),dropdownIndicator:e=>({...e,px:2,bg:"transparent",cursor:"inherit",color:"dark"===C?"white":"gray.800",...y.dropdownIndicator}),indicatorSeparator:e=>({...e,display:"none"})},...k})};c.displayName="UnControlledSelect",l.Z=c},22417:function(e,l,t){t.d(l,{Z:function(){return Q}});var o=t(85893),s=t(204),r=t(88911),n=t(5233),a=t(67294),i=t(71641),c=t(32594),u=t(67305),d=t(90867),g=t(93344),h=t(33299),x=t(7335),b=t(23100),p=t(29379),m=t(5902),f=t(24804),v=t(25416),j=t(96272),y=t(41689),k=t(14418),C=t(56877),S=t(84297);let w=(0,S.Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var z=t(34464),_=t(47930),D=t(27484),I=t.n(D),L=t(65636),Z=t(11163),N=t(20823),M=e=>{let{article:l={},isOwner:t,isMyBlogs:i}=e,c="/blogs/".concat(t?"my-blogs":"detail","/").concat(l.slug),{push:u}=(0,Z.useRouter)(),{data:d}=(0,h.useSession)(),{isOpen:g,onClose:S,onOpen:D}=(0,x.q)(),[M,G]=(0,a.useState)(!1),A=(0,Z.useRouter)(),{selectedCourses:O}=l,R=(0,a.useMemo)(()=>(null==O?void 0:O.slice(0,5))||[],[O]),{t:U}=(0,n.$G)(["common","blogs","auth"]),W=(e,l)=>{e.preventDefault(),d?u("/@".concat(l)):(G(!0),D())},P=e=>{S(),d&&A.push("/@".concat(e))};return(0,o.jsxs)(b.xu,{position:"relative",children:[t&&(0,o.jsx)(L.Z,{top:2,right:2,zIndex:2,position:"absolute",blogId:l._id,blogSlug:l.slug}),(0,o.jsxs)(p.Z,{as:_.Z,href:c,w:"100%",h:"100%",boxShadow:"md",borderRadius:"8px",_hover:{boxShadow:"lg",textDecoration:"none"},children:[(0,o.jsxs)(m.e,{p:"3",pb:"10",children:[(0,o.jsxs)(s.k,{justifyContent:"space-between",alignItems:"center",children:[(0,o.jsxs)(f.U,{spacing:4,children:[(0,o.jsx)(v.q,{size:"sm",name:l.authorName,onClick:e=>W(e,null==l?void 0:l.authorUsername),src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(l.authorUsername,"/profilePicture")}),M&&!d&&(0,o.jsx)(N.Z,{isOpen:g,onClose:P,callback:()=>{A.push("/@".concat(l.authorUsername))}}),(0,o.jsx)(j.z,{fontSize:"sm",variant:"link",fontWeight:"medium",_hover:{textDecoration:"underline"},onClick:e=>W(e,null==l?void 0:l.authorUsername),color:"text.color",children:l.authorName}),M&&!d&&(0,o.jsx)(N.Z,{isOpen:g,onClose:P,callback:()=>{A.push("/@".concat(l.authorUsername))}}),i&&(0,o.jsx)(y.C,{variant:"outline",size:"xs",borderRadius:"0",colorScheme:l.isPublished?"green":"gray",children:U(l.isPublished?"published":"draft")})]}),(0,o.jsx)(r.x,{fontSize:"xs",color:"gray.500",children:I()(l.updatedAt).format("DD-MM-YYYY")})]}),(0,o.jsx)(b.xu,{mt:4,children:(0,o.jsx)(k.X,{fontSize:"lg",fontWeight:"semibold",noOfLines:2,children:l.title})})]}),(0,o.jsxs)(s.k,{px:{base:2,md:2},gap:"2",justifyContent:"space-between",children:[(0,o.jsx)(s.k,{spacing:"0",gap:"2",flex:"5",flexWrap:"wrap",display:{base:"none",md:"flex"},children:R.map(e=>(0,o.jsxs)(y.C,{size:{base:"xs",md:"sm"},onClick:()=>{u("/blogs/".concat(e.value))},children:["# ",e.label]},"".concat(l.id,"-tag").concat(e.value)))}),(0,o.jsxs)(s.k,{gap:4,flex:"1",justifyContent:"flex-end",alignItems:"flex-end",children:[(0,o.jsxs)(f.U,{spacing:1,children:[(0,o.jsx)(C.J,{as:w,fontSize:"md",color:"red.500",_hover:{fill:"red.500"}}),(0,o.jsx)(r.x,{fontSize:"sm",color:"gray.500",children:l.likeCount||0})]}),(0,o.jsxs)(f.U,{spacing:1,children:[(0,o.jsx)(C.J,{as:z.Z,color:"gray.500",fontSize:"md"}),(0,o.jsx)(r.x,{fontSize:"sm",color:"gray.500",children:l.viewCount||0})]})]})]})]})]})},G=e=>{let{loading:l,articles:t,isMyBlogs:r}=e,{data:n}=(0,h.useSession)(),[i,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{void 0!==window&&c(!0)},[]),(0,o.jsxs)(s.k,{flexDirection:"column",gap:"4",children:[null==t?void 0:t.map(e=>{var l;return(0,o.jsx)(M,{article:e,isOwner:(null==n?void 0:null===(l=n.user)||void 0===l?void 0:l.username)===e.authorUsername,isMyBlogs:r},e._id)}),i&&l?Array.from({length:6}).map((e,l)=>(0,o.jsx)(g.O,{h:52},l)):null]})},A=t(39332),O=t(41664),R=t.n(O),U=t(5197),W=e=>{let{topic:l,slug:t,isActive:r}=e;return(0,o.jsx)(s.k,{as:_.Z,href:"/blogs/".concat(t),textDecoration:"none",p:"1.5",...r&&{backgroundColor:"blog.list.selected.bg",fontWeight:"semibold"},borderRadius:"md",cursor:"pointer",_hover:{backgroundColor:"blog.list.selected.bg",textDecoration:"none",fontWeight:"semibold"},children:(0,o.jsx)(U.aV,{m:0,p:0,children:(0,o.jsx)(U.HC,{fontSize:"md",textColor:"text.color",children:l})})})},P=e=>{let{topics:l}=e,t=(0,A.usePathname)(),{data:r}=(0,h.useSession)(),{t:a}=(0,n.$G)("blogs");return(0,o.jsxs)(s.k,{flex:"1",flexDirection:"column",gap:"1",display:{base:"none",lg:"flex"},mt:"16",children:[r&&(0,o.jsx)(k.X,{size:"sm",mb:2,as:R(),href:"/blogs/my-blogs",textDecoration:"none",py:"1.5",..."/blogs/my-blogs"===t&&{backgroundColor:"blog.list.selected.bg",fontWeight:"semibold"},borderRadius:"md",cursor:"pointer",_hover:{backgroundColor:"blog.list.selected.bg",textDecoration:"none",fontWeight:"semibold"},children:a("myBlogs")}),(0,o.jsx)(k.X,{as:"h3",size:"sm",textDecoration:"underline",children:a("topics")}),l.map(e=>(0,o.jsx)(W,{slug:e.value,topic:e.label,isActive:t===(e.value?"/blogs/".concat(e.value):"/blogs")},e.id))]})},B=t(93194),E=t(93863),T=t(28129),Y=t(43775),J=t(89154),V=(0,t(40078).I)({d:"M23.384,21.619,16.855,15.09a9.284,9.284,0,1,0-1.768,1.768l6.529,6.529a1.266,1.266,0,0,0,1.768,0A1.251,1.251,0,0,0,23.384,21.619ZM2.75,9.5a6.75,6.75,0,1,1,6.75,6.75A6.758,6.758,0,0,1,2.75,9.5Z",displayName:"SearchIcon"}),X=t(50319),$=t(27034),q=t(86417);let F=[{label:"label.newest",value:{updatedAt:-1}},{label:"label.oldest",value:{updatedAt:1}},{label:"label.mostPopular",value:{likeCount:-1}},{label:"label.mostViews",value:{viewCount:-1}}];var H=e=>{let{query:l,refetch:t,slug:r,isMyBlogs:i,topics:c}=e,u=(0,B.p)(),d=(0,A.useRouter)(),g=(0,A.usePathname)(),{t:x}=(0,n.$G)("blogs"),{data:p}=(0,h.useSession)(),[m,f]=(0,a.useState)({prev:"",current:""}),[v,{loading:y}]=(0,X.D)(q.Gl),C=(0,A.useSearchParams)().get("mostLiked"),[S,w]=(0,a.useState)(C?F[2]:F[0]);(0,a.useEffect)(()=>{f(""),w(C?F[2]:F[0]),l.current={topic:r,search:"",sort:C?F[2].value:F[0].value}},[g]);let z=(e,o)=>{w({value:e,label:o}),l.current={...l.current,sort:e},t({topic:r,search:m.current,sort:e})},_=e=>{let o="Enter"===e.key||"click"===e.type;m.current!==m.prev&&o&&(f({...m,prev:m.current}),l.current={...l.current,search:m.current},i?t({search:m.current,self:!0,sort:S.value}):t({topic:r,search:m.current,sort:S.value}))},D=async()=>{try{await v({onCompleted:e=>{var l,t;(null==e?void 0:null===(l=e.article)||void 0===l?void 0:l.slug)&&(u({title:x("success"),description:x("blogCreateSuccess"),status:"success",duration:3e3,isClosable:!0}),d.push("/blogs/my-blogs/".concat(null==e?void 0:null===(t=e.article)||void 0===t?void 0:t.slug,"/edit")))},onError:()=>{}})}catch(e){console.log(e)}};return(0,a.useEffect)(()=>{C&&z(F[2].value,F[2].label)},[C]),(0,o.jsxs)(b.xu,{children:[(0,o.jsxs)(s.k,{flexDirection:{base:"column",lg:"row"},gap:{base:"4"},children:[(0,o.jsx)(k.X,{as:"h2",fontSize:"2xl",children:x("allBlogs")}),(0,o.jsxs)(s.k,{flex:"1",gap:"5",justifyContent:"flex-end",flexDirection:{base:"column-reverse",lg:"row"},children:[(0,o.jsxs)(E.B,{size:"md",maxW:{base:"100%",lg:"200px"},children:[(0,o.jsx)(T.I,{placeholder:"Search",onChange:e=>f({...m,current:e.target.value}),onKeyDown:_}),(0,o.jsx)(Y.x,{children:(0,o.jsx)(J.h,{size:"sm","aria-label":"Search blog",icon:(0,o.jsx)(V,{}),onClick:_,isDisabled:m.current===m.prev})})]}),p&&(0,o.jsx)(j.z,{variant:"primary",isDisabled:y,isLoading:y,onClick:D,children:x("createBlog")})]}),(0,o.jsx)(s.k,{display:{base:"flex",lg:"none"},w:"100%",children:(0,o.jsx)($.Z,{options:c,placeholder:x("topics"),onChange:e=>{let{value:l}=e;d.push("blogs/".concat(l))},styles:{container:{width:"100%"}}})})]}),(0,o.jsx)(s.k,{mt:"5",gap:{base:"2",lg:"4"},color:"gray.200",mb:"3",justify:"flex-start",flexWrap:"wrap",children:F.map(e=>(0,o.jsx)(j.z,{size:"sm",variant:"link",textDecoration:"underline",...e.label===S.label&&{fontWeight:"bold"},isActive:e.label===S.label,onClick:()=>z(e.value,e.label),children:x(e.label)},e.label))})]})},Q=e=>{var l,t;let{topics:g,slug:h}=e,x=(0,a.useRef)({}),b="my-blogs"===h,{t:p}=(0,n.$G)(["common","blogs"]),{data:m,refetch:f,fetchMore:v,loading:j}=(0,i.a)(c.Y5,{variables:{...b?{self:!0}:{topic:h}},notifyOnNetworkStatusChange:!0});return(0,o.jsxs)(a.Fragment,{children:[(0,o.jsx)(d.Z,{title:p("navbar.link.blogs",{ns:"common"}),contentType:"article"}),(0,o.jsxs)(s.k,{mt:-8,gap:"6",children:[(0,o.jsx)(P,{topics:g}),(0,o.jsxs)(s.k,{flexDirection:"column",flex:"4",children:[(0,o.jsx)(H,{query:x,refetch:f,slug:h,isMyBlogs:b,topics:g}),(null==m?void 0:m.blogs.articles.length)===0&&(0,o.jsx)(s.k,{mt:"10px",children:(0,o.jsx)(r.x,{children:p("noBlogsYet",{ns:"blogs"})})}),(0,o.jsx)(G,{loading:j,articles:null==m?void 0:m.blogs.articles,isMyBlogs:b}),(0,o.jsx)(u.Z,{mt:5,loader:()=>{var e;v({variables:{...x.current,offset:(null==m?void 0:null===(e=m.blogs)||void 0===e?void 0:e.articles.length)||0},updateQuery:(e,l)=>{let{fetchMoreResult:t}=l;return t?{...e,blogs:{...e.blogs,articles:[...e.blogs.articles,...t.blogs.articles]}}:e}})},loading:j,hasMore:(null==m?void 0:null===(l=m.blogs)||void 0===l?void 0:l.totalCount)>(null==m?void 0:null===(t=m.blogs)||void 0===t?void 0:t.articles.length)})]})]})]})}},40078:function(e,l,t){t.d(l,{I:function(){return a}});var o=t(56877),s=t(35059),r=t(67294),n=t(85893);function a(e){let{viewBox:l="0 0 24 24",d:t,displayName:a,defaultProps:i={}}=e,c=r.Children.toArray(e.path),u=(0,s.G)((e,s)=>(0,n.jsx)(o.J,{ref:s,viewBox:l,...i,...e,children:c.length?c:(0,n.jsx)("path",{fill:"currentColor",d:t})}));return u.displayName=a,u}},5197:function(e,l,t){t.d(l,{GS:function(){return x},HC:function(){return p},QI:function(){return b},aV:function(){return h}});var o=t(56877),s=t(55227),r=t(92495),n=t(35059),a=t(91639),i=t(33179),c=t(54232),u=t(85893),[d,g]=(0,s.k)({name:"ListStylesContext",errorMessage:"useListStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<List />\" "}),h=(0,n.G)(function(e,l){let t=(0,a.jC)("List",e),{children:o,styleType:s="none",stylePosition:n,spacing:g,...h}=(0,i.Lr)(e),x=(0,r.W)(o);return(0,u.jsx)(d,{value:t,children:(0,u.jsx)(c.m.ul,{ref:l,listStyleType:s,listStylePosition:n,role:"list",__css:{...t.container,...g?{"& > *:not(style) ~ *:not(style)":{mt:g}}:{}},...h,children:x})})});h.displayName="List";var x=(0,n.G)((e,l)=>{let{as:t,...o}=e;return(0,u.jsx)(h,{ref:l,as:"ol",styleType:"decimal",marginStart:"1em",...o})});x.displayName="OrderedList";var b=(0,n.G)(function(e,l){let{as:t,...o}=e;return(0,u.jsx)(h,{ref:l,as:"ul",styleType:"initial",marginStart:"1em",...o})});b.displayName="UnorderedList";var p=(0,n.G)(function(e,l){let t=g();return(0,u.jsx)(c.m.li,{ref:l,...e,__css:t.item})});p.displayName="ListItem",(0,n.G)(function(e,l){let t=g();return(0,u.jsx)(o.J,{ref:l,role:"presentation",...e,__css:t.icon})}).displayName="ListIcon"},57386:function(e,l,t){t.d(l,{m:function(){return i}});var o=t(98353),s=t(25432),r=t(35059),n=t(54232),a=t(85893),i=(0,r.G)((e,l)=>{let{className:t,...r}=e,i=(0,s.cx)("chakra-modal__footer",t),c=(0,o.I_)(),u={display:"flex",alignItems:"center",justifyContent:"flex-end",...c.footer};return(0,a.jsx)(n.m.footer,{ref:l,...r,__css:u,className:i})});i.displayName="ModalFooter"}}]);