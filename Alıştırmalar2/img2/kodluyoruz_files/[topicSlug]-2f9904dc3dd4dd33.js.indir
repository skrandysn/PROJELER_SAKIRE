(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1266],{75245:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/courses/[slug]/[topicSlug]",function(){return n(97328)}])},69694:function(e,t){"use strict";t.Z=e=>(null==e?void 0:e.startsWith("www."))?"https://".concat(e):e},45226:function(e,t){"use strict";t.Z=e=>{if(e)return e.replace(/ +/g,"-").replace(/(<([^>]+)>)/g,"").trim().replace(/Ğ/gim,"g").replace(/Ü/gim,"u").replace(/Ş/gim,"s").replace(/I/gim,"i").replace(/İ/gim,"i").replace(/Ö/gim,"o").replace(/Ç/gim,"c").replace(/ğ/gim,"g").replace(/ü/gim,"u").replace(/ş/gim,"s").replace(/ı/gim,"i").replace(/ö/gim,"o").replace(/ç/gim,"c").toLowerCase().replace(/[^\w- ]+/g,"")}},97328:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return nx},default:function(){return np}});var o=n(85893),r=n(7335),i=n(12498),a=n(204),s=n(23100),l=n(29379),c=n(14418),d=n(47523),u=n(92716),m=n(65291),h=n(2999),b=n(23438),f=n(56880),x=n(54232),p=n(31708),g=n(776),j=n(92741),v=n(97888),y=n(67294),k=n(71641),C=n(50319),S=n(36090),w=n(5233),I=n(33299),A=n(11163),E=n(11336),D=n(84189),_=n(60256),B=n(22004),T=n(23255),P=n(34155),N=e=>{let[t,n]=(0,y.useState)(!1);return(0,y.useEffect)(()=>{let e=(0,T.F)(),t="true"===P.env.IS_PREVIEW;(e||t)&&n(!0)},[]),t&&(0,o.jsx)(x.m.div,{w:"full",h:"full",children:(0,o.jsx)(B.Z,{...e})})},$=n(36024),z=n(5077),F=n(77484),R=n(88911),V=n(18122),L=n(47930),O=n(84979),U=n(8971),M=n(1095),H=e=>{let{lessonsOrder:t,parentCouseSlug:n,completedModules:r=[]}=e,{query:i}=(0,A.useRouter)(),{topicSlug:l}=i,[c,d]=(0,y.useState)([...Array(t.length).keys()]),[u,m]=(0,y.useState)(!1);return(0,o.jsx)(s.xu,{children:(0,o.jsx)($.U,{index:c,onChange:e=>d(e),allowMultiple:!0,children:t.map((e,t)=>{let i=e.items.find(e=>e.url===l),s=e.items.filter(e=>!(null==r?void 0:r.some(t=>t.sourceURL==e.url)));if(!u||s.length)return(0,o.jsxs)(z.Q,{"data-testid":"course-section",border:"none",children:[(0,o.jsxs)(F.K,{"data-testid":i?"active-section-accordion":"section-accordion",_hover:{bg:"transparent"},textAlign:"left",px:0,py:1,fontSize:"xs",fontWeight:"bold",children:[(0,o.jsx)(R.x,{color:"text.muted",mr:1,fontSize:"14px",children:null==e?void 0:e.title}),c.includes(t)?(0,o.jsx)(O.Z,{size:18}):(0,o.jsx)(U.Z,{size:18})]}),(0,o.jsx)(V.H,{pb:0,px:1,pt:1,children:e.items.map(e=>{let t=null==r?void 0:r.some(t=>t.sourceURL===e.url);if(!t||!u)return(0,o.jsx)(a.k,{"data-testid":e.url===l?"active-topic-item":"topic-item",flexDir:{base:"column",md:"row"},w:"full",mb:2,children:e.url!==l?(0,o.jsxs)(a.k,{borderRadius:"md",bg:e.url===l&&"accordions.card.bg",p:1.5,pr:0,alignItems:"center",justifyContent:"space-between",flexShrink:0,w:"full",children:[(0,o.jsx)(L.Z,{href:"/courses/".concat(n,"/").concat(e.url),children:(0,o.jsx)(R.x,{color:"accordion.link.color",fontSize:"14px",children:null==e?void 0:e.title})}),t?(0,o.jsx)(M.Ux,{w:7,minW:7}):(0,o.jsx)(M.cs,{w:7,minW:7})]}):(0,o.jsxs)(a.k,{borderRadius:"md",bg:e.url===l&&"accordions.card.bg",p:1.5,pr:0,alignItems:"center",justifyContent:"space-between",flexShrink:0,w:"full",children:[(0,o.jsx)(R.x,{color:"accordion.link.color",fontSize:"14px",children:null==e?void 0:e.title}),t?(0,o.jsx)(M.Ux,{w:7,minW:7}):(0,o.jsx)(M.cs,{w:7,minW:7})]})},e.lessonId)})})]},null==e?void 0:e.title)})})})},W=n(71072),Z=n(43619);let J=Object.freeze({booting:"__booting__",error:"__error__",loading:"__loading__",loaded:"__loaded__"});var q=e=>{let{defaultTab:t="css,result",height:n=300,preview:r=!0,themeId:i="dark",version:a=2,hash:s,user:l,loader:c,title:d}=e,[u,m]=(0,y.useState)(J.booting),[h,b]=(0,y.useState)(),f=(0,y.useRef)(!1),p=()=>{if(!s)return;let e=document.createElement("script");e.src="https://static.codepen.io/assets/embed/ei.js",e.async=1,e.onload=()=>{f.current&&m(J.loaded)},e.onerror=()=>{f.current&&(m(J.error),b("Failed to load the pen"))},m(J.loading),document.body.appendChild(e)};(0,y.useEffect)(()=>(!1===f.current&&(f.current=!0),p(),()=>f.current=!1),[s]);let g=u===J.loading&&void 0!==c,j=u===J.loaded?"visible":"hidden",v="https://codepen.io/".concat(l,"/pen/").concat(s,"/");return(0,o.jsxs)(x.m.div,{children:[g&&y.createElement(c,{isLoading:u===J.loading,error:h}),(0,o.jsxs)("p",{"data-height":n,"data-theme-id":i,"data-slug-hash":s,"data-default-tab":t,"data-user":l,"data-embed-version":a,"data-pen-title":d,"data-preview":r,"data-editable":"true",className:"codepen",style:{visibility:j},children:["See the Pen ",(0,o.jsx)("a",{href:v,children:d}),"by ",l," (",(0,o.jsxs)("a",{href:"https://codepen.io/".concat(l),children:["@",l]}),") on",(0,o.jsx)("a",{href:"https://codepen.io",children:"CodePen"}),"."]})]})},G=n(96118),K=n(96272),Y=n(41753),Q=n(28129),X=n(81354),ee=n.n(X);let et=[{selector:"#data",content:"Write an input in this box - it can be your name, a whole article, or even an entire book! "},{selector:"#sha-box",content:"The hash changes every time you change even a single letter in the input"}];var en=n(36526),eo=n(577),er=n(93194),ei=n(295),ea=n(93863),es=n(25322),el=n(36354),ec=n(36557),ed=n(24304),eu=n(75421),em=n(28650),eh=n(50361),eb=n.n(eh),ef=e=>{let{from:t="",to:n="",amount:o=0,fee:r=0}=e,i="".concat(JSON.stringify(t),"-").concat(JSON.stringify(n),"-").concat(JSON.stringify(Number(o)),"-").concat(JSON.stringify(Number(r)));return i},ex=e=>{let t,{blockNo:n=0,nonce:o=0,coinbaseTo:r="",coinbaseAmount:i=0,data:a="",prevHash:s="",code:l=""}=e;return""!==l&&(t="".concat(JSON.stringify(Number(n)),"-").concat(JSON.stringify(Number(o)),"-").concat(JSON.stringify(a),"-").concat(JSON.stringify(Number(i)),"-").concat(JSON.stringify(r),"-").concat(JSON.stringify(s),"-").concat(JSON.stringify(l))),""===l&&(t="".concat(JSON.stringify(Number(n)),"-").concat(JSON.stringify(Number(o)),"-").concat(JSON.stringify(a),"-").concat(JSON.stringify(Number(i)),"-").concat(JSON.stringify(r),"-").concat(JSON.stringify(s))),t},ep=n(18601),eg=n(77580);let ej=n(86266).eddsa,ev=new ej("ed25519"),ey=e=>{let{submitTransaction:t,index:n,transactionIndex:r,order:i,defaultValues:a,isTransactionSigned:s}=e,l=async e=>{try{if(!a)return;let o={...a};e.target.id==="from-".concat(i,"-").concat(n,"-").concat(r)?o={...o,from:e.target.value}:e.target.id==="to-".concat(i,"-").concat(n,"-").concat(r)?o={...o,to:e.target.value}:e.target.id==="amount-".concat(i,"-").concat(n,"-").concat(r)?o={...o,amount:Number(e.target.value)}:e.target.id==="signature-".concat(i,"-").concat(n,"-").concat(r)&&(o={...o,signature:e.target.value});let s=!0;if(o.signature){let e=ev.keyFromPublic(o.from,"hex"),t=ef({from:o.from,to:o.to,amount:o.amount,fee:o.fee});s=e.verify(t,o.signature)}o={...o,isSignatureValid:s},t({...o,transactionIndex:r})}catch(e){console.log({changeDataError:e})}};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(en.Tr,{bg:a.isSignatureValid?"green.100":"red.600",children:[(0,o.jsx)(eo.Td,{padding:"5px",children:(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"from-".concat(i,"-").concat(n,"-").concat(r),name:"from",defaultValue:null==a?void 0:a.from,bg:"white",onChange:l})}),(0,o.jsx)(eo.Td,{padding:"5px",children:(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"to-".concat(i,"-").concat(n,"-").concat(r),name:"to",defaultValue:null==a?void 0:a.to,bg:"white",onChange:l})}),(0,o.jsx)(eo.Td,{padding:"5px",children:(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},id:"amount-".concat(i,"-").concat(n,"-").concat(r),name:"amount",defaultValue:null==a?void 0:a.amount,bg:"white",onChange:l})}),s&&(0,o.jsx)(eo.Td,{padding:"5px",children:(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"signature-".concat(i,"-").concat(n,"-").concat(r),name:"signature",defaultValue:null==a?void 0:a.signature,bg:"white",onChange:l})})]}),!a&&(0,o.jsx)(en.Tr,{children:(0,o.jsx)(eo.Td,{colSpan:s?4:3,children:(0,o.jsx)(K.z,{width:"100%",onClick:()=>{try{var e;let o=document.getElementById("from-".concat(i,"-").concat(n,"-").concat(r)).value,a=document.getElementById("to-".concat(i,"-").concat(n,"-").concat(r)).value,s=document.getElementById("amount-".concat(i,"-").concat(n,"-").concat(r)).value,l=null===(e=document.getElementById("signature-".concat(i,"-").concat(n,"-").concat(r)))||void 0===e?void 0:e.value;t({from:o,to:a,amount:Number(s),signature:l,transactionIndex:r})}catch(e){console.log({addToDataError:e})}},children:"Add"})})})]})},ek=e=>{let{order:t,index:n,data:r,submitTransaction:i,isTransactionSigned:a}=e;return r?r.map((e,r)=>(0,o.jsx)(y.Fragment,{children:(0,o.jsx)(ey,{submitTransaction:i,defaultValues:e,index:n,order:t,transactionIndex:r,isTransactionSigned:a})},"".concat(t,"-").concat(n,"-").concat(r))):null};var eC=e=>{let{isNonceVisible:t=!1,isMiningAvailable:n=!1,setBlocks:r=()=>{},index:l=0,order:c=0,blocks:d=[{blockNo:1,nonce:0,data:"",prevHash:"",hash:"6b86b273ff34fce19d6b804eff5a3f5747ada4eaa22f1d49c01e52ddb7875b4b",code:"Function: buyBook\n      When someone sends me money: \n       1. If the money is equal or above the price \n        of the book ($10)\n          i. Send the writer $10\n          ii. Get the sender’s account address\n          iii. Send that sender’s address the digital \n            copy of the book\n              "}],isOnChain:u=!1,isValidityVisible:m=!1,isDataTable:h=!1,isTransactionSigned:b=!1,isCoinbaseVisible:f=!1,coinbaseAmount:x=0,coinbaseTo:p="",tourSteps:g=[],isCodeInBlock:j=!1}=e,v=(0,i.ff)("blackAlpha.800","whiteAlpha.800");m&&(v="blackAlpha.800");let k=(0,er.p)(),{setCurrentStep:C,setIsOpen:w,setSteps:I}=(0,S.rN)(),[A,E]=(0,y.useState)(!1),{blockNo:D,nonce:_,data:B,prevHash:T,hash:P,code:N}=d[l],$=(0,y.useCallback)(e=>{let{hashValue:t}=e,n=t.slice(0,4),o=document.getElementById("block-".concat(l,"-").concat(c)),r=document.getElementById("block-valid-text-".concat(l,"-").concat(c));"0000"===n?(r.innerHTML="Block is valid",o.style.backgroundImage="linear-gradient(to bottom, var(--chakra-colors-green-200),var(--chakra-colors-green-100))"):(r.innerHTML="Block is invalid",o.style.background="linear-gradient(to bottom, var(--chakra-colors-red-200),var(--chakra-colors-red-100))")},[l,c]);(0,y.useEffect)(()=>{g.length>0&&(C(0),I(g))},[g,I,C]),(0,y.useEffect)(()=>{P&&m&&$({hashValue:P})},[P,$,m]);let z=e=>{let{blockNoValue:t,dataValue:n,nonceValue:o,prevHashValue:i,coinbaseAmountValue:a,coinbaseToValue:s,codeValue:h=""}=e,b=ex({blockNo:t,nonce:o,data:n,coinbaseAmount:a,coinbaseTo:s,prevHash:i,code:h}),f=ee().SHA256(b).toString(),x=document.getElementById("hash-".concat(l,"-").concat(c));x.value=f,m&&$({hashValue:f});let p=eb()(d);if(p[l].blockNo=t,p[l].nonce=o,p[l].data=n,p[l].hash=f,p[l].coinbaseAmount=a,p[l].coinbaseTo=s,u&&p[l+1]){p[l+1].prevHash=f;for(let e=l+1;e<p.length;e+=1){let t=ex({blockNo:p[e].blockNo,nonce:p[e].nonce,data:p[e].data,coinbaseAmount:p[e].coinbaseAmount,coinbaseTo:p[e].coinbaseTo,prevHash:p[e].prevHash}),n=ee().SHA256(t).toString();p[e].hash=n,p[e+1]&&(p[e+1].prevHash=n)}}r(p)},F=(0,y.useCallback)(()=>{if(A)return;let e=[...d],{blockNo:t}=e[l],n=e[l].data,o=e[l].coinbaseAmount,i=e[l].coinbaseTo,{prevHash:a}=e[l];for(let s=0;s<6e5;s+=1){let d=ex({blockNo:t,nonce:s,data:n,coinbaseAmount:o,coinbaseTo:i,prevHash:a}),u=ee().SHA256(d).toString(),m=u.slice(0,4);if("0000"===m){e[l].nonce=s,e[l].hash=u;let d=document.getElementById("hash-".concat(l,"-").concat(c));d.value=u;let m=document.getElementById("nonce-".concat(l,"-").concat(c));m.value=s,$({hashValue:u}),E(!1),r(e),z({blockNoValue:t,dataValue:n,nonceValue:s,prevHashValue:a,coinbaseAmountValue:o,coinbaseToValue:i});return}599999===s&&(E(!1),k({title:"Mining stopped",description:"Nonce value couldn't be found within a certain period therefore mining stopped to not keep you waiting. Please try again with different data.",status:"error",duration:5e3,isClosable:!0}))}},[l,c,d,A,k,$]),V=e=>{let{name:t,value:n}=e.target,o={blockNoValue:Number(D),dataValue:B,nonceValue:Number(_),prevHashValue:T,coinbaseToValue:p,coinbaseAmountValue:Number(x),codeValue:N,["".concat(t,"Value")]:n};z(o)};return(0,o.jsxs)(G.K,{alignItems:"center",children:[g.length>0&&(0,o.jsx)(K.z,{onClick:w,variant:"primary",mb:"1rem",mt:"1rem",w:"200px",children:"Start demo"}),(0,o.jsxs)(s.xu,{id:"block-".concat(l,"-").concat(c),p:"1rem",mt:"1rem",borderRadius:"0.5rem",color:v,bg:(0,i.ff)("gray.300","whiteAlpha.300"),flexShrink:0,minWidth:{sm:"20rem",md:"25rem",lg:"30rem"},maxWidth:"33rem",children:[m&&(0,o.jsxs)(a.k,{mb:"1rem",p:"5px",borderRadius:"7px",borderColor:"blackAlpha.200",borderWidth:"2px",alignItems:"center",children:[(0,o.jsx)(R.x,{id:"block-valid-text-".concat(l,"-").concat(c),fontStyle:"italic"}),n&&(0,o.jsxs)(K.z,{id:"mine-button-".concat(l,"-").concat(c),ml:"auto",onClick:()=>{E(!0),setTimeout(()=>F(),200)},children:["Mine ",A&&(0,o.jsx)(ei.$,{ml:"1rem"})]})]}),(0,o.jsx)(R.x,{children:"Block No"}),(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"blockNo-".concat(l,"-").concat(c),name:"blockNo",defaultValue:D,mt:"0.5rem",bg:"white",onChange:V,onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},pointerEvents:"none"}),f&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Coinbase"}),(0,o.jsxs)(ea.B,{mt:"0.5rem",id:"coinbase-to-".concat(l,"-").concat(c),children:[(0,o.jsx)(es.Ui,{children:"To",bg:"gray.100"}),(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",name:"coinbase-to",defaultValue:p,bg:"white",onChange:V})]}),(0,o.jsxs)(ea.B,{mt:"0.5rem",id:"coinbase-amount-".concat(l,"-").concat(c),children:[(0,o.jsx)(es.Ui,{children:"Amount",bg:"gray.100"}),(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",name:"coinbase-amount",defaultValue:x,bg:"white",onChange:V,onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()},pointerEvents:"none"})]})]}),t&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Nonce"}),(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"nonce-".concat(l,"-").concat(c),name:"nonce",defaultValue:_,bg:"white",disabled:A,onChange:V})]}),h?(0,o.jsxs)(s.xu,{id:"data-".concat(l,"-").concat(c),children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Data"}),(0,o.jsx)(el.x,{bg:"white",borderRadius:"0.5rem",children:(0,o.jsxs)(ec.i,{bg:"gray.100",variant:"simple",__css:{"tr,td,thead,th":{"border-color":"#ddd"}},children:[(0,o.jsx)(ed.h,{children:(0,o.jsxs)(en.Tr,{children:[(0,o.jsx)(eu.Th,{textColor:"black",children:"From"}),(0,o.jsx)(eu.Th,{textColor:"black",children:"To"}),(0,o.jsx)(eu.Th,{textColor:"black",children:"Amount"}),b&&(0,o.jsx)(eu.Th,{children:"Signature"})]})}),(0,o.jsx)(em.p,{children:(0,o.jsx)(ek,{data:B,submitTransaction:e=>{let t,{from:n,to:o,amount:r,signature:i="",isSignatureValid:a,transactionIndex:s}=e;void 0!==s&&-1!==s?(t=[...B])[s]={from:n,to:o,amount:Number(r),signature:i,isSignatureValid:a}:t=[...B,{from:n,to:o,amount:Number(r),signature:i,isSignatureValid:a}];let l={blockNoValue:Number(D),dataValue:t,nonceValue:Number(_),coinbaseAmountValue:Number(x),coinbaseToValue:p,prevHashValue:T};z(l)},order:c,index:l,isTransactionSigned:b})})]})})]}):j?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Code"}),(0,o.jsx)(G.K,{color:"blackAlpha.900",children:(0,o.jsx)(ep.ZP,{name:"code",value:N,height:"200px",extensions:[(0,eg.eJ)({jsx:!0})],onChange:(e,t)=>{let n={blockNoValue:Number(D),dataValue:B,nonceValue:Number(_),prevHashValue:T,coinbaseToValue:p,coinbaseAmountValue:Number(x),codeValue:e};z(n)}})})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Data"}),(0,o.jsx)(Y.g,{textColor:"blackAlpha.800",defaultValue:B,disabled:A,id:"data-".concat(l,"-").concat(c),name:"data",onChange:V,placeholder:"Data",_placeholder:{color:"blackAlpha.400"},bg:"white",mt:"0.5rem"})]}),u&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Previous"}),(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"prevHash-".concat(l,"-").concat(c),value:T,mt:"0.5rem",bg:"white",readOnly:!0,pointerEvents:"none"})]}),(0,o.jsx)(R.x,{mt:"1rem",children:"Hash"}),(0,o.jsx)(Q.I,{textColor:"blackAlpha.900",id:"hash-".concat(l,"-").concat(c),value:P,mt:"0.5rem",bg:"white",readOnly:!0,pointerEvents:"none"})]})]})},eS=[{id:"1",blockNo:1,nonce:6843,data:"",prevHash:"000000000000000000000000000000000000000000000000000000000",hash:"0000276ae81862a1b4b9c8b386e5e252fb77ad506fcb494de0538b3de082ba43"},{id:"2",blockNo:2,nonce:132279,data:"",prevHash:"0000276ae81862a1b4b9c8b386e5e252fb77ad506fcb494de0538b3de082ba43",hash:"00005cc8e9aa53c2872942257144b4b1728ab9d592c9d76a4680bdd161ca6546"},{id:"3",blockNo:3,nonce:105102,data:"",prevHash:"00005cc8e9aa53c2872942257144b4b1728ab9d592c9d76a4680bdd161ca6546",hash:"000030c18d9becbb8e9e286bebf2326066c561008fa305374a69c789b70e87e2"},{id:"4",blockNo:4,nonce:2193,data:"",prevHash:"000030c18d9becbb8e9e286bebf2326066c561008fa305374a69c789b70e87e2",hash:"000098c0d6441095cfff819b9d76a197e6769e8b8f3ac32060f531b07e5adb91"}],ew=n(91420),eI=n.n(ew),eA=e=>{let{blockchainValues:t=[],isDataTable:n,order:r=0,isNonceVisible:s,isMiningAvailable:l,isTransactionSigned:c,isCoinbaseVisible:d,tourSteps:u=[]}=e,[m,h]=(0,y.useState)(t),b=(0,i.ff)("blackAlpha.800","blackAlpha.800"),{setIsOpen:f,setSteps:x,setCurrentStep:p}=(0,S.rN)();return(0,y.useEffect)(()=>{u.length>0&&(p(0),x(u))},[u,x,p]),(0,o.jsxs)(o.Fragment,{children:[u.length>0&&(0,o.jsx)(K.z,{onClick:f,variant:"primary",mb:"1rem",w:"200px",margin:"0 auto",children:"Start demo"}),(0,o.jsx)(a.k,{overflowX:"scroll",gap:"2.5rem",id:"block-chain-".concat(r),position:"relative",paddingBottom:"10px",justifyContent:1===m.length?"center":"",children:m.map((e,t)=>(0,o.jsxs)(y.Fragment,{children:[(0,o.jsx)(eC,{index:t,order:r,textColorInCard:b,blocks:m,setBlocks:h,isOnChain:!0,isNonceVisible:s,isMiningAvailable:l,isValidityVisible:l,isDataTable:n,isTransactionSigned:c,isCoinbaseVisible:d,coinbaseAmount:e.coinbaseAmount,coinbaseTo:e.coinbaseTo},e.id),m.length!==t+1&&(0,o.jsx)(eI(),{start:"hash-".concat(t,"-").concat(r),end:"prevHash-".concat(t+1,"-").concat(r),color:"#000"})]},e.id))})]})},eE=e=>{let{isNonceVisible:t,isMiningAvailable:n,tourSteps:r=[]}=e,{setIsOpen:i,setCurrentStep:a,setSteps:l}=(0,S.rN)();return(0,y.useEffect)(()=>{r.length>0&&(a(0),l(r))},[r,a,l]),(0,o.jsxs)(o.Fragment,{children:[r.length>0&&(0,o.jsx)(K.z,{w:"200px",onClick:i,mt:"1rem",variant:"primary",margin:"0 auto",children:"Start demo"}),(0,o.jsxs)(s.xu,{id:"peer-1",children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Peer 1"}),(0,o.jsx)(eA,{blockchainValues:eS,order:"0",isNonceVisible:t,isMiningAvailable:n})]}),(0,o.jsxs)(s.xu,{id:"peer-2",children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Peer 2"}),(0,o.jsx)(eA,{blockchainValues:eS,order:"1",isNonceVisible:t,isMiningAvailable:n})]}),(0,o.jsxs)(s.xu,{id:"peer-3",children:[(0,o.jsx)(R.x,{mt:"1rem",children:"Peer 3"}),(0,o.jsx)(eA,{blockchainValues:eS,order:"2",isNonceVisible:t,isMiningAvailable:n})]})]})},eD=n(43775),e_=n(89154),eB=e=>{let t=[],n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(let o=0;o<e;o++)t.push(n[Math.floor(16*Math.random())]);return t.join("")},eT=e=>(0,o.jsxs)("svg",{stroke:"currentColor",fill:"none",strokeWidth:2,viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,o.jsx)("rect",{x:9,y:9,width:13,height:13,rx:2,ry:2}),(0,o.jsx)("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]});let eP=n(86266).eddsa,eN=new eP("ed25519");var e$=e=>{let{tourSteps:t=[]}=e,{setIsOpen:n,setSteps:r,setCurrentStep:a}=(0,S.rN)(),l=(0,er.p)(),c=(0,i.ff)("blackAlpha.800","blackAlpha.800");(0,y.useEffect)(()=>{t.length>0&&(a(0),r(t))},[t,r,a]);let d=async e=>{let t=eN.keyFromSecret(e),n=t.getPublic("hex"),o=t.getSecret("hex"),r=o===e,i=document.getElementById("publicKey");i.value=n;let a=document.getElementById("isHexValid");r?a.innerHTML=null:a.innerHTML="Invalid Hex or not a Hex"};return(0,y.useEffect)(()=>{let e=localStorage.getItem("privateKey"),t=localStorage.getItem("publicKey");if(e&&t){let n=document.getElementById("privateKey"),o=document.getElementById("publicKey");n.value=e,o.value=t}},[]),(0,o.jsxs)(G.K,{margin:"0 auto",children:[t.length>0&&(0,o.jsx)(K.z,{w:"200px",onClick:n,variant:"primary",mb:"1rem",marginX:"auto",children:"Start demo"}),(0,o.jsxs)(s.xu,{bg:"gray.300",p:"1rem",mt:"1rem",borderRadius:"0.5rem",color:c,bgGradient:"linear(to-r, blue.100, green.100)",id:"private-and-public-key-generator",minWidth:{sm:"20rem",md:"25rem",lg:"30rem"},maxWidth:"33rem",children:[(0,o.jsx)(R.x,{mt:"1rem",fontWeight:"bold",children:"Private Key (hex string)"}),(0,o.jsx)(R.x,{id:"isHexValid",color:"red.300"}),(0,o.jsxs)(ea.B,{children:[(0,o.jsx)(Q.I,{id:"privateKey",onChange:e=>d(e.target.value),bg:"white"}),(0,o.jsx)(K.z,{id:"random-button",ml:"0.5rem",onClick:()=>{let e=eB(32),t=document.getElementById("privateKey");t.value=e,d(e)},variant:"solid",children:"Random"})]}),(0,o.jsx)(R.x,{mt:"1rem",fontWeight:"bold",children:"Public Key"}),(0,o.jsxs)(ea.B,{children:[(0,o.jsx)(Q.I,{id:"publicKey",pointerEvents:"none",bg:"white"}),(0,o.jsx)(eD.x,{children:(0,o.jsx)(e_.h,{display:{base:"flex"},"aria-label":"Edit",fontSize:"18px",variant:"ghost",color:"gray.500",id:"copy-button",onClick:()=>{let e=document.getElementById("publicKey").value;navigator.clipboard.writeText(e),l({title:"Public key copied to clipboard",status:"success",duration:3e3,isClosable:!0})},icon:(0,o.jsx)(eT,{})})})]})]})]})},ez=n(1004),eF=n(56005),eR=n(49394),eV=n(80333),eL=n(69558);let eO=n(86266).eddsa,eU=new eO("ed25519");var eM=n(5197);let eH={"hashing-the-data-demo":(0,o.jsx)(()=>{let e=(0,i.ff)("blackAlpha.800","whiteAlpha.800"),{setCurrentStep:t,setIsOpen:n,setSteps:r}=(0,S.rN)();return(0,y.useEffect)(()=>{t(0),r(et)},[r,t]),(0,o.jsxs)(G.K,{alignItems:"center",children:[(0,o.jsx)(K.z,{onClick:n,variant:"primary",mb:"1rem",w:"200px",children:"Start demo"}),(0,o.jsxs)(s.xu,{id:"sha-box",bg:(0,i.ff)("patikaColors.flatGray","whiteAlpha.100"),p:"1rem",mt:"1rem",borderRadius:"0.5rem",color:e,minWidth:{sm:"20rem",md:"25rem",lg:"30rem"},maxWidth:"33rem",children:[(0,o.jsx)(R.x,{children:"Data"}),(0,o.jsx)(Y.g,{id:"data",defaultValue:"",onChange:e=>{let t=ee().SHA256(e.target.value).toString(),n=document.getElementById("hash");n.value=t},placeholder:"Data",color:"#000",_placeholder:{color:"gray.500"},bg:"white",mt:"0.5rem"}),(0,o.jsx)(R.x,{mt:"1rem",children:"Hash"}),(0,o.jsx)(Q.I,{id:"hash",defaultValue:"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",color:"#000",mt:"0.5rem",bg:"white",pointerEvents:"none"})]})]})},{}),"block-of-data-demo":(0,o.jsx)(eC,{tourSteps:[{selector:"#blockNo-0-0",content:"Apart from ‘data’, blocks can include extra fields such as the block number here. We’ll see some other fields later."},{selector:"#hash-0-0",content:"You remember creating a hash for data, right? Just like that, you can also create a single hash for the whole block - including the entire data and extra fields in it (e.g. block number)."},{highlightedSelectors:["#data-0-0","#hash-0-0"],content:"It’s your turn! Change the data in the block and see how hash changes."}]}),"solving-the-puzzle-mining-demo":(0,o.jsx)(e=>{let{tourSteps:t}=e,[n,r]=y.useState([{blockNo:1,nonce:23801,data:"This is a valid block",prevHash:"",hash:"0000e1480cc2c1e061ef56ffe1906fd9bbd9661292fa8136a098cb6bb9211df0"}]);return(0,o.jsx)(s.xu,{children:(0,o.jsx)(eC,{isNonceVisible:!0,isMiningAvailable:!0,isValidityVisible:!0,order:0,index:0,blocks:n,setBlocks:r,tourSteps:t})})},{tourSteps:[{selector:"#hash-0-0",content:"For this block, all the above fields and nonce value generated a hash that starts with 4 zeros."},{selector:"#block-valid-text-0-0",content:"That’s why, it says ‘block is valid’."},{selector:"#data-0-0",content:"Now, change the data in this block."},{selector:"#hash-0-0",content:"Hash is broken since data changed. How to fix it?"},{selector:"#nonce-0-0",content:"You have to calculate a new nonce that generates a valid hash that starts with 4 zeros."},{selector:"#mine-button-0-0",content:"Go ahead and hit ‘mine’. When you do that, your computer will start testing new nonce values."},{highlightedSelectors:["#nonce-0-0","#data-0-0","#hash-0-0"],content:"Congrats! For your new data, you found a nonce that works (i.e. results in a hash starting with 4 zeros); and your block is valid again."}]}),"chaining-the-blocks-demo":(0,o.jsx)(eA,{blockchainValues:eS,tourSteps:[{selector:"#hash-0-0",content:"You see the hash of this block?"},{selector:"#prevHash-1-0",content:"We just use the hash of the previous block as part of the new block. So, the new hash of this block has a new input now!"},{selector:"#data-1-0",content:"Go ahead and change data in this block."},{highlightedSelectors:["#hash-1-0","#hash-2-0"],content:"See that the hash changes in that block and all the following blocks, right? This will get more complex as we’ll see soon."}]}),"many-computers-trying-to-solve-the-puzzle-nodes-demo":(0,o.jsx)(eE,{isNonceVisible:!0,isMiningAvailable:!0,tourSteps:[{selector:"#peer-1",content:"This is the first ‘node’ holding a copy of a blockchain."},{selector:"#peer-2",content:"This is the second one with exactly the same copy."},{selector:"#peer-3",content:"And the third one."},{selector:"#data-1-0",content:"Let’s say you’re keeping this copy and wanted to manipulate data in this already mined block. Go ahead and change it."},{selector:"#hash-1-0",content:"Your block no longer passes validity tests by other nodes (i.e. your nonce doesn’t solve the hash puzzle)."},{highlightedSelectors:["#hash-1-0","#hash-2-0"],content:"All the following blocks are also broken."},{selector:"#mine-button-1-0",content:"Mine this block again and find a valid hash, then go ahead and mine the next blocks."},{highlightedSelectors:["#hash-1-0","#hash-2-0"],content:" But your new hash values are different than your peers since you changed data. In the time for you to mine a new block, the collective computing power of the network will add more new blocks to the end of the chain and other nodes will ignore your blockchain."}]}),"protecting-against-false-transactions-with-public-and-private-keys-demo":(0,o.jsx)(e$,{tourSteps:[{selector:"#private-and-public-key-generator",content:"This will allow you to create a new wallet by choosing a private key. We’ll derive a public key from it. These keys are going to be your wallet credentials."},{highlightedSelectors:["#random-button","#privateKey"],content:"Press the 'random' button and see that a hex string is written in the box - you can change it if you want. This is your private key. "},{selector:"#publicKey",content:"A public key is generated from it. A private key always generates the same public key - so, the private key shouldn't be easy to guess. Don’t worry - if you were creating a private key using some digital wallet or even offline by downloading some open source code on your computer like the one on https://www.bitaddress.org,  the private key will be complicated enough."}]}),fFDfwmwLywSwcCrST:(0,o.jsx)(eE,{}),"adding-transactions-into-blocks":(0,o.jsx)(eA,{blockchainValues:[{id:"1",blockNo:1,nonce:61585,coinbaseTo:"",coinbaseAmount:0,data:[{from:"37f8b23d51a4312602fbd586d5ac704e4f479d8df7f201a2bae7cecb7c4f3d75",to:"811dfb817f485878eee227d419ee5bc4524afc33ff99e63f02471344f1996709",amount:70,signature:"7920A67494E30975D90C5C07F07887610D4B92AD429E980CBF50C1D5D8BAED7479D43D433782CC05E5C05C86AC97F5DBACA73A320278F2E83EB2523927D64804",isSignatureValid:!0},{from:"219bdcdd3de2490be300f50ddcb9fc5128b95fa63d6f624088e8dec5ad3c8f7a",to:"3cf3322d68867bcd6dda12a18e0cc6fec8ee373d1158afcdbc60ad15531426c1",amount:65,signature:"B79101DC480D3821AA18B97C3DE71504A08A234CE2D5593DB0B79B0619B5CB9667970CF883060E7F9F6441C531C2F0977420BDE77624D6B64040B56C9DA50907",isSignatureValid:!0},{from:"87df0dbc75333a4155d532b4fc88b020e4a99302b2e84a977337c9d49b7f3bab",to:"cc6e2aa497c4ce59d78a067d40f976fb6fc10c03061ac1ee69a90f90e160c8ab",amount:30,signature:"9857D8EB6AAF0C5D42859D2C326A64BDEB0D931FD145331FC442454D37A6C9D14DA6ECECF09382BB418AC633667896EED5FE0C743F9FF983EE6609D4A70B010A",isSignatureValid:!0}],prevHash:"000000000000000000000000000000000000000000000000000000000",hash:"0000762bd0ad0543f216a48dd5fecbd3bd8c21fa7aa1abc6df3dc829e3b461f0"},{id:"2",blockNo:2,nonce:10188,coinbaseTo:"",coinbaseAmount:0,data:[{from:"08180c39759f45a5475a5872385878af1ee95b25ccd2279e6a3771f23e1deefc",to:"8a90ee7808cebb5aefbc0cfa26e8e513822f09da29a3dfd7d61f5a1aca6df16c",amount:44,signature:"DC6BCD1C44136AAC99C1B028F00DBFBC47D69EB90E15BF79C04044DB261B72BD0580A972C17AB000067A4BF0E8FCEBA28CF2E52D9A48C2A977566337FF01F207",isSignatureValid:!0},{from:"d68347eeb8b96f56c258cf2a60aa4191956b8cde158521ffc077c5271e64eb1b",to:"a13194172ad34765aadad2d65ccd1b571ed061aa48b78221eb036b3a63f6dcbe",amount:92,signature:"6E85727936E15512BFEABA68895BA1D4DAABCD8509D1962F1B9B029137311FA4A4C730DCAF77030CCC5676CAF89A0A6B9E16807B176E73851E2E0D6A9438AF04",isSignatureValid:!0},{from:"0de776f1eb98873a5eeff4e4c868606fccde5d3f335eb4f2bb211cc0ba234c62",to:"b5a985478fda3fa852cbc2747d2bd7e39c7d32d1ee010ea07d2fd0d764da2e88",amount:28,signature:"A71174B0B98C041CA99AFD311CA7659C13FE5EA08AA70723B32B7284A8E1165D35224DCAF4A709209326162EBE962D612E93270AACA7ACBCC77B8E7FC6D68307",isSignatureValid:!0}],prevHash:"0000762bd0ad0543f216a48dd5fecbd3bd8c21fa7aa1abc6df3dc829e3b461f0",hash:"0000a3ffdb6ce328cbbb76667278728209d555cd7f43719376ad9f75c17bf9c1"},{id:"3",blockNo:3,nonce:26586,coinbaseTo:"",coinbaseAmount:0,data:[{from:"8d4a632b60306983744d0cabba3873f020ce725fb67bc7d7f43f69dfb37656e0",to:"a9c524e43e4a57fff3b3dbd1029e8a49a948e7423e0e4d859a79b33b3b3736d5",amount:84,signature:"68598EB362A2583FFA5B84D6BE1BB8E800C247724EC1DEA7E2B31F68A57C8D0D485EAB5E78780D8EF7089B97507FDF356C6EB1094BCF529A8C623AB71FEBCB0F",isSignatureValid:!0},{from:"37562a3edfdb369c5c42d728e56259795233509a12196217732a2d6fc2721669",to:"45397cee53623fa6c6eddfa5debf28fa6f3658b4f0e65c0594bfa140aca8a21f",amount:64,signature:"2073BD9C91E5A731D022F049B0FB4E2C9C9684AF61DA8D5E83206833552A81D4488DAE1D25A6398F610AA9389944EB6A7FB1BB652BF372E5CA0DDA5B75E44304",isSignatureValid:!0},{from:"3e50e54e20ea42830adc99a18f4188c9a2d5eafb97f12194e6aa564ab0fb2985",to:"f68637d34fd27d2a642dcc44acb7ade4e3a2e9c1f57f89487b14cb33392ba86e",amount:52,signature:"A944B1E60F6FFB2F7F7D2DD265CC0DDA86876738680B555B7967A4C513C4CCC35DD35EEEBAB9BAAF0D5A1C4C9C593FA97D1D8E250ACA57EE84650446D558D302",isSignatureValid:!0}],prevHash:"0000a3ffdb6ce328cbbb76667278728209d555cd7f43719376ad9f75c17bf9c1",hash:"0000ae6544c373e319dd398227a1ace702a29af60b8d98b6d99d5beb731cf93f"},{id:"4",blockNo:4,nonce:8848,coinbaseTo:"",coinbaseAmount:0,data:[{from:"ceef3497edcbf715641baaa75687419fb27f74689f2849b06107169534728919",to:"8f08bc091830cb64784a37489c9619c31133f40d6332705f611bc6235eeefb31",amount:36,signature:"ABF2E624134DE9B743EC6288A12587A498259EE9384FC1D8A373BEB6BEDBE7AA3787249949879F55A6540B54E8814ACF660EF8E907CDCB4D12D1F35FDEAB6300",isSignatureValid:!0},{from:"412da90ccef2d065b0d0c292410215f46a1e60c0d18c7223e12b7ca3b995fd33",to:"3014b2e059ac81f5b3b0f0c696e569cddcd744cdf503e902bbf508fc3e670ea9",amount:94,signature:"8BEDF8C7DFA733AA8D41105B9DA1DC2D898566CB08C5A8B286AB5EA82224FEB23131FEDE4B30A750943D11069E4B05A9A3F5629AB38F5CA2B6ADE461398A5E00",isSignatureValid:!0},{from:"f0363e6b264266e9e83144d010c80f2cc5a9d48e0505f034263b959acc9c28f1",to:"c7ebdf61e16267a6449abff8a621bfcb5794d100538aa567d648ac1cfb4dbf4a",amount:87,signature:"BEB97987BE67F30D755804E0131AE2639340CE3B4035BD182FCD33756BA4A1B39DE765ED6EDC8F7AB8A44618069BF6787C83868CD23082B6A6DFB114D6B0C809",isSignatureValid:!0}],prevHash:"0000ae6544c373e319dd398227a1ace702a29af60b8d98b6d99d5beb731cf93f",hash:"000089e1f3604c0faad3cf95980b9e96221d4019b206b682e5db01ea4c115942"}],isDataTable:!0,isNonceVisible:!0,isMiningAvailable:!0,isTransactionSigned:!0,tourSteps:[{selector:"#block-0-0",content:"A similar blockchain you saw before, this time with transactions in it."},{selector:"#amount-0-0-1",content:"Try to modify data in a block.  The signature of this transaction is also broken! "},{selector:"#hash-0-0",content:"Hash of the block is also broken. You’ll have to mine this block again and all the subsequent blocks, and won’t catch up with the newly added blocks - invalidating your blockchain."}]}),"creating-a-signature-to-authorize-transactions":(0,o.jsx)(e=>{let{tourSteps:t=[]}=e,n=(0,er.p)(),r=(0,i.ff)("blackAlpha.800","blackAlpha.800"),{setIsOpen:a,setSteps:l,setCurrentStep:c}=(0,S.rN)();return(0,y.useEffect)(()=>{t.length>0&&(c(0),l(t))},[t,l,c]),(0,o.jsxs)(G.K,{w:"100%",children:[t.length>0&&(0,o.jsx)(K.z,{w:"200px",onClick:a,variant:"primary",children:"Start demo"}),(0,o.jsx)(e$,{}),(0,o.jsxs)(ez.m,{mt:"2rem",isFitted:!0,variant:"enclosed",children:[(0,o.jsxs)(eF.t,{children:[(0,o.jsx)(eR.O,{children:"Sign"}),(0,o.jsx)(eR.O,{className:"verify-tab-button",children:"Verify"})]}),(0,o.jsxs)(eV.n,{children:[(0,o.jsxs)(eL.x,{children:[(0,o.jsx)(R.x,{fontWeight:"bold",children:"Sign a transaction"}),(0,o.jsxs)(s.xu,{bgGradient:"linear(to-r, blue.100, green.100)",p:"1rem",mt:"1rem",borderRadius:"0.5rem",color:r,children:[(0,o.jsx)(R.x,{fontWeight:"bold",children:"Transaction"}),(0,o.jsx)(R.x,{mt:"1rem",children:"Your Private Key"}),(0,o.jsx)(Q.I,{id:"enteredPrivateKey",placeholder:"Enter private key for signing",bg:"white",_placeholder:{color:"blackAlpha.500"}}),(0,o.jsx)(R.x,{mt:"1rem",children:"From"}),(0,o.jsx)(Q.I,{id:"from",placeholder:"Your public key",bg:"white",_placeholder:{color:"blackAlpha.500"}}),(0,o.jsx)(R.x,{mt:"1rem",children:"To"}),(0,o.jsx)(Q.I,{id:"to",bg:"white",_placeholder:{color:"blackAlpha.500"},placeholder:"Receiver public key",defaultValue:"e33bbbc7d0e903932d023ed3696430cddd6b064f5295464458ef876bb22fc31d"}),(0,o.jsx)(R.x,{mt:"1rem",children:"Amount"}),(0,o.jsx)(Q.I,{id:"amount",bg:"white",placeholder:"Amount",_placeholder:{color:"blackAlpha.500"},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}}),(0,o.jsx)(K.z,{id:"sign-button",onClick:()=>{let e=document.getElementById("enteredPrivateKey").value,t=document.getElementById("from").value;if(!e||!t){n({title:"Error",description:"Please enter the private key and your public address for signing",status:"error",duration:3e3,isClosable:!0});return}let o=document.getElementById("to").value,r=document.getElementById("amount").value,i=ef({from:t,to:o,amount:r}),a=eU.keyFromSecret(e).sign(i).toHex(),s=document.getElementById("signature");s.value=a;let l=document.getElementById("from-verify"),c=document.getElementById("to-verify"),d=document.getElementById("amount-verify"),u=document.getElementById("signature-verify");l.value=t,c.value=o,d.value=r,u.value=a},mt:"1rem",mb:"1rem",children:"Sign"}),(0,o.jsx)("hr",{style:{border:"none",height:"1px",background:"#95a5a6"}}),(0,o.jsx)(R.x,{mt:"1rem",children:"Signature"}),(0,o.jsx)(Q.I,{id:"signature",bg:"white",pointerEvents:"none"})]})]}),(0,o.jsx)(eL.x,{children:(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(R.x,{fontWeight:"bold",children:"Verify a transaction"}),(0,o.jsxs)(s.xu,{bgGradient:"linear(to-r, blue.100, green.100)",p:"1rem",mt:"1rem",borderRadius:"0.5rem",color:r,id:"verifyBlock",children:[(0,o.jsx)(R.x,{fontWeight:"bold",children:"Transaction"}),(0,o.jsx)(R.x,{mt:"1rem",children:"From"}),(0,o.jsx)(Q.I,{id:"from-verify",placeholder:"Your public key",bg:"white",_placeholder:{color:"blackAlpha.500"}}),(0,o.jsx)(R.x,{mt:"1rem",children:"To"}),(0,o.jsx)(Q.I,{id:"to-verify",bg:"white",placeholder:"Receiver public key",_placeholder:{color:"blackAlpha.500"},defaultValue:"e33bbbc7d0e903932d023ed3696430cddd6b064f5295464458ef876bb22fc31d"}),(0,o.jsx)(R.x,{mt:"1rem",children:"Amount"}),(0,o.jsx)(Q.I,{id:"amount-verify",bg:"white",placeholder:"Amount",_placeholder:{color:"blackAlpha.500"},onKeyPress:e=>{/[0-9]/.test(e.key)||e.preventDefault()}}),(0,o.jsx)(R.x,{mt:"1rem",children:"Signature"}),(0,o.jsx)(Q.I,{id:"signature-verify",bg:"white",_placeholder:{color:"blackAlpha.500"}}),(0,o.jsx)(K.z,{id:"verify-button",onClick:()=>{let e=document.getElementById("from-verify").value,t=document.getElementById("to-verify").value,n=document.getElementById("amount-verify").value,o=document.getElementById("signature-verify").value,r=eU.keyFromPublic(e,"hex"),i=ef({from:e,to:t,amount:n}),a=r.verify(i,o),s=document.getElementById("isValid"),l=document.getElementById("verifyBlock");a?(s.innerHTML="Valid Signature",l.style.background="var(--chakra-colors-green-100)"):(s.innerHTML="Invalid Signature",l.style.background="var(--chakra-colors-red-100)")},mt:"1rem",children:"Verify"}),(0,o.jsx)(R.x,{id:"isValid",mt:"1rem",fontWeight:"bold"})]})]})})]})]})]})},{tourSteps:[{selector:"#private-and-public-key-generator",content:"This will allow you to create a new wallet by choosing a private key. We’ll derive a public key from it. These keys are going to be your wallet credentials."},{highlightedSelectors:["#random-button","#privateKey"],content:"Press the 'random' button and see that a hex string is written in the box - you can change it if you want. This is your private key. "},{selector:"#copy-button",content:"Copy your public key - you will soon use it to send money."},{selector:"#from",content:"Paste your public key here."},{selector:"#to",content:"You’ll send funds to this public key."},{selector:"#amount",content:"Enter the amount you want to send."},{highlightedSelectors:["#sign-button","#signature"],content:"To make sure that you’re the one who is authorizing this transaction, you’ll need to ‘sign’ it. "},{selector:".verify-tab-button",content:"Now, let’s verify the signature."},{highlightedSelectors:["#from-verify","#to-verify"],content:"When we’re trying to verify, only public keys are used."},{highlightedSelectors:["#from-verify","#to-verify","#amount-verify","#signature-verify","#verify-button"],content:"These public keys are then combined with transaction amount to validate the transaction. Now click on the verify button to see if the your signature is valid on this transaction."},{highlightedSelectors:["#amount-verify","#signature-verify","#verify-button"],content:"Try changing the amount or signature and see how the verification fails. This is how you can verify that a transaction is valid."},{highlightedSelectors:["#from-verify","#to-verify","#amount-verify","#signature-verify","#verify-button"],content:e=>{let{}=e;return(0,o.jsxs)(s.xu,{children:["What is special about this signature system is that:",(0,o.jsxs)(eM.GS,{children:[(0,o.jsx)(eM.HC,{children:"It is created with the specific transaction data and uses your private key"}),(0,o.jsx)(eM.HC,{children:"Others can validate it by just using your public key"})]}),"As a result, only you can authorize a transaction, but others can verify that someone with the right private key has authorized this specific transaction."]})}}]}),"storing-transactions-in-a-block-demo":(0,o.jsx)(eA,{blockchainValues:[{id:"1",blockNo:1,nonce:101480,coinbaseTo:"",coinbaseAmount:0,data:[{from:"Alice",to:"Bob",amount:10,signature:"",isSignatureValid:!0,fee:0},{from:"Satoshi",to:"Vitalik",amount:15,signature:"",isSignatureValid:!0,fee:0},{from:"Jason",to:"Borne",amount:25,signature:"",isSignatureValid:!0,fee:0}],prevHash:"000000000000000000000000000000000000000000000000000000000",hash:"0000244deca6cd4a0f0c480bd5b5ab9fc361e17eb73337e4083111bebc34f1d4"},{id:"2",blockNo:2,nonce:35869,coinbaseTo:"",coinbaseAmount:0,data:[{from:"Jackson",to:"Bob",amount:40,signature:"",isSignatureValid:!0,fee:0},{from:"James",to:"Jason",amount:15,signature:"",isSignatureValid:!0,fee:0},{from:"Thomas",to:"Borne",amount:25,signature:"",isSignatureValid:!0,fee:0}],prevHash:"0000244deca6cd4a0f0c480bd5b5ab9fc361e17eb73337e4083111bebc34f1d4",hash:"0000d09b492c6d8d912aab188151652ed2395bcb1c9ffeaed9d3b3e97b331c18"},{id:"3",blockNo:3,nonce:42230,coinbaseTo:"",coinbaseAmount:0,data:[{from:"Bob",to:"Jackson",amount:20,signature:"",isSignatureValid:!0,fee:0},{from:"Borne",to:"Thomas",amount:25,signature:"",isSignatureValid:!0,fee:0},{from:"James",to:"Borne",amount:50,signature:"",isSignatureValid:!0,fee:0}],prevHash:"0000d09b492c6d8d912aab188151652ed2395bcb1c9ffeaed9d3b3e97b331c18",hash:"00001ca74335d1b965097554c28803f38f65c0b13e841119ba5ce01d47f02d42"},{id:"4",blockNo:4,nonce:12706,coinbaseTo:"",coinbaseAmount:0,data:[{from:"Bob",to:"Alice",amount:20,signature:"",isSignatureValid:!0,fee:0},{from:"Vitalik",to:"Satoshi",amount:35,signature:"",isSignatureValid:!0,fee:0},{from:"Borne",to:"James",amount:57,signature:"",isSignatureValid:!0,fee:0}],prevHash:"00001ca74335d1b965097554c28803f38f65c0b13e841119ba5ce01d47f02d42",hash:"0000fe421ed4e1bd6db77c376ee2d5688a3d684fa0298b8c414d13091f04bc67"}].splice(0,1),isDataTable:!0,isNonceVisible:!0,isValidityVisible:!0,isMiningAvailable:!0,tourSteps:[{selector:"#data-0-0",content:"This time, we have some transactions in the blocks telling who sent how much money to who."},{selector:"#amount-0-0-1",content:"Again, try to change the data and see how the block hash and the block itself become invalid."}]}),"coinbase-demo":(0,o.jsx)(eA,{blockchainValues:[{blockNo:1,nonce:98273,coinbaseAmount:6.25,coinbaseTo:"The Miners Public Key Goes Here",data:[{from:"Bob",to:"Alice",amount:20,signature:"",isSignatureValid:!0},{from:"Vitalik",to:"Satoshi",amount:35,signature:"",isSignatureValid:!0},{from:"Borne",to:"James",amount:57,signature:"",isSignatureValid:!0}],prevHash:"000000000000000000000000000000000000000000000000000000000",hash:"00000686532817c998acf63c1c135accf49b8a8f50c281b02b55706e83f47783"}],isCoinbaseVisible:!0,isDataTable:!0,isMiningAvailable:!0,isValidityVisible:!0,isNonceVisible:!0,tourSteps:[{highlightedSelectors:["#coinbase-to-0-0","#coinbase-amount-0-0"],content:()=>(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(R.x,{children:"For Bitcoin, new coins are created with a piece of code here in ‘coinbase’."}),(0,o.jsx)(R.x,{children:"Coinbase is a space in the blocks. For every mined block, the block reward coins are sent to miner’s public key."}),(0,o.jsx)(R.x,{children:"A miner adds their own public key and as a result receives the reward coins."})]})},{selector:"#coinbase-amount-0-0",content:"Back in 2009, you’d get paid 50 bitcoins to add a new block. Nowadays, it’s 6.25 bitcoins. So, if you solve the puzzle first and validate the block, that transaction is also validated and you earn those bitcoins!"},{highlightedSelectors:["#coinbase-to-0-0","#coinbase-amount-0-0"],content:()=>(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(R.x,{children:"This system incentivize more people to become nodes and miners. The more miners there are, the more computation power will be needed to change the records of transactions and hack the system."}),(0,o.jsx)(R.x,{children:"As it gets harder and harder to hack the system, the blockchain and the economy it creates becomes more secure and, as a result, the coins become a more preferred currency to be used."})]})}]}),yYzntgMC7RXYSeohL:(0,o.jsx)(eC,{isCodeInBlock:!0}),"hash-rate-demo":(0,o.jsx)(()=>{let[e,t]=y.useState(!1),n=async()=>{t(!0);let e=1,n=Array(5e4).fill("A very long string"),o=new Date().getTime()+1e3,r=document.getElementById("hashRate");for(;new Date().getTime()<o;)ee().SHA256(1+e+n).toString(),e+=1;t(!1),r.innerHTML="When hashing a 1mb block (Bitcoin block size), your hash rate is <strong>".concat(e,"</strong> hashes per second. <br/> In other words your computer can check <strong>").concat(e,"</strong> different nonce values for a block in 1 second."),fetch("https://blockchain.info/q/hashrate").then(e=>e.text()).then(e=>{let t=document.getElementById("bitcoinHashRate");t.innerHTML="Total hash rate of all computers in the Bitcoin network is currently <strong>".concat((1e9*e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),"</strong> hashes per second </strong>")}).catch(e=>console.log({err:e}))};return(0,o.jsxs)(s.xu,{mt:"1rem",bgGradient:"linear(to-b, blue.100, blue.200)",p:"1rem",borderRadius:"0.5rem",color:"#000",maxW:"30rem",margin:"0 auto",children:[(0,o.jsx)(R.x,{children:"Hash rate is the number of hashes a miner can calculate per second. The higher the hash rate the more likely you are to validate a block."}),(0,o.jsx)(R.x,{id:"hashRate",mt:"1rem"}),(0,o.jsx)(R.x,{id:"bitcoinHashRate",mt:"1rem"}),(0,o.jsxs)(K.z,{onClick:()=>{t(!0),setTimeout(()=>{n()},100)},variant:"primary",mt:"1rem",w:"100%",children:["Calculate Your Hash Rate ",e&&(0,o.jsx)(ei.$,{ml:"1rem"})]})]})},{})};var eW=e=>(0,o.jsx)(x.m.iframe,{"data-testid":"discord-widget",title:"discord-widget",src:"https://discord.com/widget?id=851765197000540161&theme=2",width:"100%",height:"600",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts",...e}),eZ=e=>e.replace(/(<([^>]+)>)/gi,""),eJ=n(20823),eq=n(90867);let eG=Object.freeze({VIDEO:"video",CODEPEN:"codepen",TEST:"test",DATA_INPUT:"dataInput"}),eK=Object.freeze({COMPLETED:"COMPLETED",NOT_STARTED:"NOT_STARTED",CONTINUES:"CONTINUES",SHOW_ANSWER:"SHOW_ANSWER"}),eY=Object.freeze({ATTENDED:"ATTENDED",NOT_ATTENDED:"NOT_ATTENDED"});var eQ=n(13163),eX=n(65262),e0=n(69694),e1=n(21654),e2=n(87536),e3=()=>{let{t:e}=(0,w.$G)("topic"),{data:t}=(0,I.useSession)(),n=(0,er.p)();return{showMessage:r=>{var i,a,s,l;let c=[],d=0,u=!1,m=!1;return(null==r?void 0:null===(i=r.addedPoints)||void 0===i?void 0:i.length)&&r.addedPoints.forEach(t=>{switch(t.type){case"lesson":var n=t.points?"".concat(e("lessonFinished")," +").concat(t.points):e("noPointsWithoutQuiz");m=!0,c.push((0,o.jsx)(R.x,{fontWeight:"bold",children:n},"lesson")),d+=t.points;break;case"course":u=!0,c.push((0,o.jsx)(R.x,{fontWeight:"bold",children:"".concat(e("courseCompleted")," => +").concat(t.points)},"course")),d+=t.points;break;case"path":c.push((0,o.jsx)(R.x,{fontWeight:"bold",children:"".concat(e("pathCompleted")," => +").concat(t.points)},"path")),d+=t.points;break;case"courseWork":t.points>0&&c.push((0,o.jsx)(R.x,{fontWeight:"bold",children:"".concat(e("courseWorkCompleted")," => +").concat(t.points)},"courseWork")),d+=t.points}}),0===d&&c&&c.length?n({description:c,status:"warning",bg:"red.100"}):c&&c.length&&(u&&T.n.track("egitim-completed",{username:null==t?void 0:null===(a=t.user)||void 0===a?void 0:a.username,courseTitle:null==r?void 0:r.courseTitle}),m&&(T.n.track("lesson-completed",{username:null==t?void 0:null===(s=t.user)||void 0===s?void 0:s.username,lastCompletedModule:null==r?void 0:r.lastCompletedModule}),T.n.track("sayfa-complete",{username:null==t?void 0:null===(l=t.user)||void 0===l?void 0:l.username,lastCompletedModule:null==r?void 0:r.lastCompletedModule})),n({description:c,status:"success"})),c}}},e8=n(17022),e5=e=>{let{content:t,courseTitle:n,sourceURL:r,courseProgressId:i,hasUserEnrolled:d,setEnrollmentModalOpen:u,setProgressData:m,isAlreadyCompleted:h,onOpenSignUpModal:b}=e,{showMessage:f}=e3(),{t:p}=(0,w.$G)("topic"),{data:g}=(0,I.useSession)(),[j,v]=(0,y.useState)(d&&!h?eY.ATTENDED:eY.NOT_ATTENDED);(0,y.useEffect)(()=>{i&&v(eY.ATTENDED)},[i]);let[k,{loading:S}]=(0,C.D)(e1.EZ),[A]=(0,C.D)(D.SM),{control:E,handleSubmit:_,reset:B}=(0,e2.cI)({defaultValues:{url:""}});(0,y.useEffect)(()=>{B()},[r]);let P=async e=>{let{url:o}=e;if(!g)return b();if(!d)return u(!0);let a=n+" - "+r,s=(0,e0.Z)(o.trim());k({variables:{projectName:"Hackerrank challenge",projectLink:s,projectInfo:a,isProjectPublic:!1,courseTitle:n,extraContentId:t._id},onCompleted:async()=>{var e;T.n.track("projeBilgisi-added",{username:null==g?void 0:null===(e=g.user)||void 0===e?void 0:e.username}),await A({variables:{_id:i,completedProject:{sourceURL:r,extraContentId:null==t?void 0:t._id,inputValue:(0,e0.Z)(s)}},onCompleted:e=>{let{updateCourseProgress:t}=e;f(t),m(t)},onError:e=>{console.log(e)}})},onError:e=>{console.log(e)}})};return(0,o.jsxs)(l.Z,{mb:4,children:[(0,o.jsxs)(a.k,{flexDir:h?"column":"row",justifyContent:"space-between",alignItems:h?"flex-start":"center",children:[(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(M._,{mr:2,color:"text.secondary.color"}),(0,o.jsx)(c.X,{mr:3,fontSize:"xl",as:"h2",children:null==t?void 0:t.title})]}),j===eY.NOT_ATTENDED||h?(0,o.jsx)(o.Fragment,{children:h?(0,o.jsx)(s.xu,{mt:2,children:(0,o.jsx)(R.x,{fontWeight:"medium",fontSize:"sm",children:p("projectIsAlreadySubmitted")})}):(0,o.jsx)(s.xu,{children:(0,o.jsx)(K.z,{onClick:()=>{if(!d)return u(!0);v(eY.ATTENDED)},children:p("attend")})})}):null]}),j===eY.ATTENDED&&!h&&(0,o.jsxs)(s.xu,{mt:4,children:[(0,o.jsx)(eX.Z,{isStyled:!0,children:t.body}),(0,o.jsxs)(s.xu,{onSubmit:_(P),as:x.m.form,children:[(0,o.jsx)(eQ.Z,{rules:{required:{value:!0},validate:e=>(0,e8.jv)(e)||p("validUrl")},control:E,name:"url"}),(0,o.jsx)(K.z,{type:"submit",mt:4,isLoading:S,isDisabled:S,children:"Submit"})]})]})]})},e6=n(25416),e4=n(51853),e9=n(27484),e7=n.n(e9),te=n(82251),tt=n(82729),tn=n(17283);function to(){let e=(0,tt._)(["\n  fragment LessonSubCommentsAttributes on LessonSubComment {\n    _id\n    username\n    comment\n    parentCommentId\n    upvoteCount\n    reportsCount\n    hasUserUpvoted\n    hasUserReported\n    createdAt\n  }\n"]);return to=function(){return e},e}let tr=(0,tn.Ps)(to());function ti(){let e=(0,tt._)(["\n  ","\n  mutation addLessonSubComment(\n    $sourceURL: String!\n    $courseId: String!\n    $comment: String!\n    $parentCommentId: String!\n  ) {\n    addLessonSubComment(\n      sourceURL: $sourceURL\n      courseId: $courseId\n      comment: $comment\n      parentCommentId: $parentCommentId\n    ) {\n      ...LessonSubCommentsAttributes\n    }\n  }\n"]);return ti=function(){return e},e}function ta(){let e=(0,tt._)(["\n  mutation removeLessonSubComment($_id: String!) {\n    removeLessonSubComment(_id: $_id) {\n      _id\n    }\n  }\n"]);return ta=function(){return e},e}function ts(){let e=(0,tt._)(["\n  mutation updateLessonSubCommentUpvote($_id: String!, $shouldAdd: Boolean) {\n    updateLessonSubCommentUpvote(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return ts=function(){return e},e}function tl(){let e=(0,tt._)(["\n  mutation updateLessonSubCommentReport($_id: String!, $shouldAdd: Boolean) {\n    updateLessonSubCommentReport(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return tl=function(){return e},e}let tc=(0,tn.Ps)(ti(),tr),td=(0,tn.Ps)(ta()),tu=(0,tn.Ps)(ts()),tm=(0,tn.Ps)(tl());var th=n(39332);function tb(){let e=(0,tt._)(["\n  fragment LessonCommentsAttributes on LessonComment {\n    _id\n    username\n    comment\n    upvoteCount\n    reportsCount\n    hasUserUpvoted\n    hasUserReported\n    createdAt\n  }\n"]);return tb=function(){return e},e}let tf=(0,tn.Ps)(tb());function tx(){let e=(0,tt._)(["\n  ","\n  mutation addLessonComment($sourceURL: String!, $courseId: String!, $comment: String!) {\n    addLessonComment(sourceURL: $sourceURL, courseId: $courseId, comment: $comment) {\n      ...LessonCommentsAttributes\n    }\n  }\n"]);return tx=function(){return e},e}function tp(){let e=(0,tt._)(["\n  mutation removeLessonComment($_id: String!) {\n    removeLessonComment(_id: $_id) {\n      _id\n    }\n  }\n"]);return tp=function(){return e},e}function tg(){let e=(0,tt._)(["\n  mutation updateUpvote($_id: String!, $shouldAdd: Boolean) {\n    updateUpvote(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return tg=function(){return e},e}function tj(){let e=(0,tt._)(["\n  mutation updateReport($_id: String!, $shouldAdd: Boolean) {\n    updateReport(_id: $_id, shouldAdd: $shouldAdd)\n  }\n"]);return tj=function(){return e},e}let tv=(0,tn.Ps)(tx(),tf),ty=(0,tn.Ps)(tp()),tk=(0,tn.Ps)(tg()),tC=(0,tn.Ps)(tj());var tS=e=>{let{subCommentsData:t,handleHideSubComments:n,handleShowSubComments:r,showSubComments:i,setDeleteData:a}=e,{t:s}=(0,w.$G)("topic");return(null==t?void 0:t.length)<=2?null==t?void 0:t.slice(0,2).map(e=>(0,o.jsx)(tA,{setDeleteData:a,isSubcomment:!0,commentData:e},e._id)):(null==t?void 0:t.length)>2&&!i?(0,o.jsxs)(o.Fragment,{children:[null==t?void 0:t.slice(0,2).map(e=>(0,o.jsx)(tA,{setDeleteData:a,isSubcomment:!0,commentData:e},e._id)),(0,o.jsx)(K.z,{fontSize:"xs",color:"primary.color",_hover:{color:"primary.hoverColor",textDecoration:"underline"},variant:"link",onClick:r,children:s("showAllComments")})]}):(0,o.jsxs)(o.Fragment,{children:[null==t?void 0:t.map(e=>(0,o.jsx)(tA,{setDeleteData:a,isSubcomment:!0,commentData:e},e._id)),(0,o.jsx)(K.z,{fontSize:"xs",color:"primary.color",_hover:{color:"primary.hoverColor",textDecoration:"underline"},variant:"link",onClick:n,children:s("hideAllComments")})]})},tw=n(23279),tI=n.n(tw),tA=e=>{let{commentData:t,isSubcomment:n=!1,sourceUrl:r,courseId:l,setDeleteData:c,subCommentToDelete:d,setSubCommentToDelete:u}=e,{data:m}=(0,I.useSession)(),{t:h}=(0,w.$G)("topic"),[b,f]=(0,y.useState)(!1),[p,g]=(0,y.useState)(!1),[j,v]=(0,y.useState)(t.filteredSubComments||[]);(0,y.useEffect)(()=>{if(d&&(null==d?void 0:d.parentCommentId)===(null==t?void 0:t._id)){let e=j.filter(e=>e._id!==d._id);v(e),u(null)}},[d]);let[k,S]=(0,y.useState)(t),[A]=(0,C.D)(tc),[E]=(0,C.D)(tk),[D]=(0,C.D)(tu),_=(0,i.ff)("blue.500","blue.300"),[B]=(0,C.D)(tC),[T]=(0,C.D)(tm),P=(0,th.useRouter)(),N=(0,i.ff)("white","gray.700"),{control:$,handleSubmit:z,formState:F,reset:V}=(0,e2.cI)(),L=async e=>{let{comment:n}=e;return await A({variables:{sourceURL:r,courseId:l,comment:n,parentCommentId:t._id},onCompleted:e=>{let{addLessonSubComment:t}=e;try{V(),g(!1),v([t,...j])}catch(e){console.log(e)}},onError:()=>{}})},U=(0,y.useMemo)(()=>tI()(async(e,t)=>{e?D({variables:t,onCompleted:()=>{},onError:()=>{}}):E({variables:t,onCompleted:()=>{},onError:()=>{}})},2e3),[]),H=(0,y.useMemo)(()=>tI()(async(e,t)=>{e?T({variables:t,onCompleted:()=>{},onError:()=>{}}):B({variables:t,onCompleted:()=>{},onError:()=>{}})},2e3),[B,T]),W=(0,i.ff)("gray.200","gray.600");return(0,o.jsxs)(a.k,{"data-testid":n?"topic-subcommet":"topic-comment",...!n&&{borderBottom:"1px solid",borderColor:W,pb:3,_last:{borderBottom:"none"}},children:[(0,o.jsx)(a.k,{pt:10,alignItems:"flex-start",children:(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(e_.h,{mr:1,minW:3,minH:3,w:6,h:6,p:0,onClick:()=>{S({...k,hasUserUpvoted:!k.hasUserUpvoted,upvoteCount:k.hasUserUpvoted?k.upvoteCount-1:k.upvoteCount+1}),U(n,{_id:t._id,shouldAdd:!k.hasUserUpvoted})},_hover:{bg:"orange.300"},bg:k.hasUserUpvoted?"orange.300":"none",color:"text.color",variant:"ghost",borderRadius:"full",children:(0,o.jsx)(O.Z,{})}),(0,o.jsx)(R.x,{w:6,fontSize:"xs",children:k.upvoteCount})]})}),(0,o.jsxs)(a.k,{flexGrow:1,flexDir:"column",children:[(0,o.jsxs)(a.k,{justifyContent:"space-between",mb:1,children:[(0,o.jsx)(a.k,{alignItems:"flex-end",children:(0,o.jsx)(R.x,{fontSize:"xs",children:e7()(k.createdAt).format("DD.MM.YY")})}),(0,o.jsx)(a.k,{color:"text.color",fontSize:"sm",_hover:{bg:"ghost.button.hover.bg"},w:8,h:8,justifyContent:"center",alignItems:"center",cursor:"pointer",children:t.username===m.user.username?(0,o.jsx)(a.k,{onClick:()=>c(t,n),color:"text.color",fontSize:"sm",_hover:{bg:"ghost.button.hover.bg"},w:8,h:8,justifyContent:"center",alignItems:"center",cursor:"pointer",children:(0,o.jsx)(M.rF,{fontSize:"lg"})}):(0,o.jsx)(a.k,{onClick:()=>{S({...k,hasUserReported:!k.hasUserReported}),H(n,{_id:t._id,shouldAdd:!k.hasUserReported})},color:"text.color",fontSize:"sm",_hover:{bg:"ghost.button.hover.bg"},w:8,h:8,justifyContent:"center",alignItems:"center",cursor:"pointer",children:(0,o.jsx)(e4.Z,{...k.hasUserReported&&{fill:"red",color:"white"},size:18})})})]}),(0,o.jsx)(R.x,{fontWeight:"medium",fontSize:"sm",children:k.comment}),(0,o.jsxs)(a.k,{mt:2,alignItems:"center",children:[(0,o.jsx)(e6.q,{mr:2,w:7,h:7,src:"https://patika-prod.s3.eu-central-1.amazonaws.com/userFiles/".concat(t.username,"/profilePicture"),name:t.username}),(0,o.jsx)(R.x,{fontSize:"xs",color:_,cursor:"pointer",_hover:{textDecoration:"underline"},onClick:e=>{e.preventDefault(),P.push("/@".concat(k.username))},children:k.username})]}),!n&&(p?(0,o.jsxs)(s.xu,{onSubmit:z(L),pr:4,as:x.m.form,children:[(0,o.jsx)(te.Z,{rules:{required:!0},placeholder:h("shareYourQuestion"),control:$,name:"comment",bg:N,mt:2}),(0,o.jsx)(a.k,{mt:4,justifyContent:"flex-end",children:(0,o.jsx)(K.z,{isLoading:F.isSubmitting,type:"submit",size:"sm",children:h("send")})})]}):(0,o.jsx)(s.xu,{mt:2,children:(0,o.jsx)(K.z,{fontSize:"xs",onClick:()=>g(!0),variant:"link",_hover:{textDecoration:"underline"},color:"primary.color",children:h("reply")})})),(0,o.jsx)(s.xu,{children:(null==j?void 0:j.length)?(0,o.jsx)(tS,{setDeleteData:c,handleShowSubComments:()=>f(!0),handleHideSubComments:()=>f(!1),showSubComments:b,subCommentsData:j}):null})]})]})};function tE(){let e=(0,tt._)(["\n  ","\n  ","\n  query lessonComments($sourceURL: String, $courseId: String, $skip: Int) {\n    lessonComments(sourceURL: $sourceURL, courseId: $courseId, skip: $skip) {\n      data {\n        ...LessonCommentsAttributes\n        filteredSubComments {\n          ...LessonSubCommentsAttributes\n        }\n      }\n      totalCount\n    }\n  }\n"]);return tE=function(){return e},e}let tD=(0,tn.Ps)(tE(),tf,tr);var t_=n(73359);function tB(){let e=(0,tt._)(["\n  query lessonInteractions($sourceURL: String!, $courseId: String!) {\n    lessonInteractions(sourceURL: $sourceURL, courseId: $courseId) {\n      _id\n      rocket {\n        isVoted\n        total\n      }\n      womanDancing {\n        isVoted\n        total\n      }\n      thinkingFace {\n        isVoted\n        total\n      }\n      shockedFace {\n        isVoted\n        total\n      }\n    }\n  }\n"]);return tB=function(){return e},e}let tT=(0,tn.Ps)(tB());function tP(){let e=(0,tt._)(["\n  mutation updateLessonInteractions($_id: String!, $interactionType: String!) {\n    updateLessonInteractions(_id: $_id, interactionType: $interactionType) {\n      _id\n      rocket {\n        isVoted\n        total\n      }\n      womanDancing {\n        isVoted\n        total\n      }\n      thinkingFace {\n        isVoted\n        total\n      }\n      shockedFace {\n        isVoted\n        total\n      }\n    }\n  }\n"]);return tP=function(){return e},e}let tN=(0,tn.Ps)(tP());var t$=n(91036),tz=n.n(t$);let tF=/(github\.com|gitHub\.com|GİTHUB\.com|GitHub\.com|GİTHUB\.com|githUb\.com|giThub\.com|gitHUb\.com|GITHUB\.com|gitHuB\.com|gItHub\.com|githuB\.com)/i;var tR=e=>{var t;let{sourceUrl:n,courseId:r,hasUserEnrolled:l,setEnrollmentModalOpen:d,onOpenSignUpModal:u}=e,{data:m}=(0,I.useSession)(),h=(0,y.useRef)(0),{t:b}=(0,w.$G)("topic"),[f,p]=(0,y.useState)({data:[],totalCount:0}),[g,j]=(0,y.useState)({}),[v,{loading:S}]=(0,C.D)(tv),[A]=(0,C.D)(tN),[E]=(0,C.D)(td),[D]=(0,C.D)(ty);(0,k.a)(tT,{fetchPolicy:"cache-and-network",skip:!(null==m?void 0:m.isMeteorTokenReady),variables:{sourceURL:n,courseId:r},onCompleted:e=>{let{lessonInteractions:t}=e;j(t)}});let[_]=(0,t_.t)(tD),B=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];_({fetchPolicy:"cache-and-network",variables:{sourceURL:n,courseId:r,skip:h.current},onCompleted:t=>{let{lessonComments:n}=t;e?p({data:[...f.data,...n.data],totalCount:n.totalCount}):p(n),h.current=h.current+10}})};(0,y.useEffect)(()=>{h.current=0,l&&B(!1)},[l,n]);let P=(0,y.useMemo)(()=>tI()(async(e,t)=>{A({variables:{_id:e,interactionType:t},onCompleted:()=>{},onError:()=>{}})},2e3),[A]),N=e=>{j({...g,[e]:{isVoted:!g[e].isVoted,total:g[e].isVoted?g[e].total-1:g[e].total+1}}),P(g._id,e)},$=(0,i.ff)("white","gray.700"),{control:z,handleSubmit:F,formState:V,reset:L}=(0,e2.cI)(),O=async e=>{let{comment:t}=e;if(console.log(t),!m)return u();if(!l)return d(!0);let o=tz()(t.trim());return await v({variables:{sourceURL:n,courseId:r,comment:o},onCompleted:e=>{var t;let{addLessonComment:r}=e;T.n.track("comment-posted",{username:null==m?void 0:null===(t=m.user)||void 0===t?void 0:t.username,comment:{comment:o,pageSource:n}}),p({data:[r,...f.data],totalCount:f.totalCount+1}),L()},onError:e=>{console.log(e)}})},[U,H]=(0,y.useState)(!1),[Z,J]=(0,y.useState)(null),[q,G]=(0,y.useState)();return(0,o.jsxs)(a.k,{py:{base:2,md:2},flexDir:"column",overflow:"hidden",children:[(0,o.jsxs)(a.k,{px:{base:2,md:2},alignItems:"center",justifyContent:"space-between",children:[(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(M.Jk,{fontSize:"xl",mr:3,ml:1}),(0,o.jsxs)(c.X,{fontSize:"xl",children:[" ",b("comments")]})]}),(0,o.jsx)(a.k,{children:Object.entries(g).map(e=>{let t,[n,r]=e;switch(n){case"rocket":t="\uD83D\uDE80";break;case"womanDancing":t="\uD83D\uDC83";break;case"thinkingFace":t="\uD83E\uDD14";break;case"shockedFace":t="\uD83E\uDD2F"}return"object"==typeof r&&(0,o.jsxs)(a.k,{flexDir:"column",alignItems:"center",children:[(0,o.jsx)(e_.h,{ml:1,onClick:()=>N(n),_hover:{bg:"orange.300"},bg:r.isVoted?"orange.300":"none",p:0,variant:"ghost",borderRadius:"full",children:(0,o.jsx)(R.x,{children:t})}),(0,o.jsx)(R.x,{fontSize:"sm",children:r.total})]},n)})})]}),(0,o.jsxs)(s.xu,{px:{base:2,md:4},onSubmit:F(O,()=>{if(!m)return u()}),mt:4,as:x.m.form,children:[(0,o.jsx)(te.Z,{placeholder:b("shareYourQuestion"),control:z,name:"comment",bg:$,rules:{required:!0,validate:e=>!tF.test(e)||b("dontShareGithub")}}),(0,o.jsx)(a.k,{mb:2,mt:4,justifyContent:"flex-end",children:(0,o.jsx)(K.z,{"data-testid":"topic-comment-send-button",type:"submit",isLoading:V.isSubmitting,isDisabled:S,children:b("send")})})]}),l?(0,o.jsx)(s.xu,{flexGrow:1,overflow:"auto",children:(0,o.jsxs)(s.xu,{px:{base:2,md:4},children:[null==f?void 0:null===(t=f.data)||void 0===t?void 0:t.map(e=>(0,o.jsx)(tA,{subCommentToDelete:q,setSubCommentToDelete:G,setDeleteData:(e,t)=>J({data:e,isSubcomment:t}),sourceUrl:n,courseId:r,commentData:e},e._id)),h.current<(null==f?void 0:f.totalCount)&&(0,o.jsx)(a.k,{justifyContent:"center",children:(0,o.jsx)(K.z,{onClick:B,children:b("loadMore")})})]})}):(0,o.jsx)(s.xu,{p:4,children:(0,o.jsx)(R.x,{fontSize:"sm",fontWeight:"medium",children:b("enrollmentRequiredForComment")})}),(0,o.jsx)(W.Z,{isOpen:Z,onClose:()=>J(null),text:b("removeComment"),leftButtonProps:{leftButtonText:b("cancel"),onClick:()=>J(null),variant:"muted",isLoading:U},rightButtonProps:{rightButtonText:b("remove"),onClick:()=>{H(!0),Z.isSubcomment?E({variables:{_id:Z.data._id},onCompleted:e=>{let{removeLessonSubComment:t}=e;(null==t?void 0:t._id)&&G(Z.data),H(!1)},onError:()=>{H(!1)}}):D({variables:{_id:Z.data._id},onCompleted:e=>{let{removeLessonComment:t}=e;if(null==t?void 0:t._id){let e=f.data.filter(e=>e._id!==t._id);p({data:e,totalCount:f.totalCount-1})}H(!1)},onError:()=>{H(!1)}}),J(null)},variant:"danger",isLoading:U}})]})};function tV(){let e=(0,tt._)(["\n  query bookmark($lessonId: String!, $sourceURL: String!) {\n    bookmark(lessonId: $lessonId, sourceURL: $sourceURL) {\n      bookmark\n      rating {\n        rating\n      }\n    }\n  }\n"]);return tV=function(){return e},e}let tL=(0,tn.Ps)(tV());var tO=n(96177),tU=n(7909),tM=n(39135),tH=n(77988),tW=n(45226),tZ=e=>{var t;let{hasUserEnrolled:n,courseId:r,extraContent:i,courseTitle:d,courseProgressId:u,sourceURL:m,isAlreadyCompleted:h,setProgressData:b,setEnrollmentModalOpen:f,onOpenSignUpModal:p}=e,{showMessage:g}=e3(),j=(0,y.useRef)(!0),{data:v}=(0,I.useSession)(),[k]=(0,C.D)(e1.EZ),[S]=(0,C.D)(D.SM),[A]=(0,tH.Z)({folderPath:"projects"}),[E,_]=(0,y.useState)(!1),{control:B,handleSubmit:P,reset:N,watch:$,setValue:z}=(0,e2.cI)({defaultValues:{projectName:"",projectInfo:"",projectLink:"",isProjectPublic:!1}}),{t:F}=(0,w.$G)("topic"),[V,L]=(0,y.useState)(null),O=async e=>{L(e.target.files[0])},U=async e=>{let t;if(_(!0),V){let{link:n}=await A(V,(0,tW.Z)(e.projectName));t=n}await k({variables:{courseId:r,courseTitle:d,projectName:e.projectName,projectLink:(0,e0.Z)(e.projectLink),projectInfo:e.projectInfo,projectImage:t,isProjectPublic:e.isProjectPublic,extraContentId:i._id},onCompleted:()=>{var e;T.n.track("projeBilgisi-added",{username:null==v?void 0:null===(e=v.user)||void 0===e?void 0:e.username})},onError:()=>{}});let n=await S({variables:{_id:u,completedProject:{sourceURL:m,extraContentId:null==i?void 0:i._id,inputValue:(0,e0.Z)(e.projectLink)}},onCompleted:e=>{let{updateCourseProgress:t}=e;g(t),b(t),_(!1)},onError:e=>{console.log(e),_(!1)}});return n},[H,W]=(0,y.useState)(n&&!h?eY.ATTENDED:eY.NOT_ATTENDED);(0,y.useEffect)(()=>{u&&W(eY.ATTENDED)},[u]),(0,y.useEffect)(()=>{j.current||(N(),L(null)),j.current=!1},[r,m]);let Z=$("projectInfo");return(0,y.useEffect)(()=>{(null==Z?void 0:Z.length)>=130&&z("projectInfo",Z.slice(0,130))},[Z]),(0,o.jsx)(s.xu,{children:H!==eY.ATTENDED||h?(0,o.jsx)(l.Z,{"data-testid":"project-card-inactive",mb:4,children:(0,o.jsxs)(a.k,{flexDir:h?"column":{base:"column",sm:"row"},alignItems:h?"flex-start":"center",justifyContent:"space-between",children:[(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(M._,{mr:2,color:"text.secondary.color"}),(0,o.jsx)(c.X,{mr:3,fontSize:"xl",as:"h2",children:F("project")})]}),h?(0,o.jsx)(s.xu,{mt:2,children:(0,o.jsx)(R.x,{fontWeight:"medium",fontSize:"sm",children:F("projectIsAlreadySubmitted")})}):(0,o.jsx)(K.z,{onClick:()=>v?u?void W(eY.ATTENDED):f(!0):p(),variant:"outline",isLoading:E,isDisabled:E,children:F("attend")})]})}):(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(l.Z,{as:x.m.form,"data-testid":"project-card-active",onSubmit:P(U),mt:6,mb:6,px:{base:2,md:5},pb:5,pt:4,children:[(0,o.jsx)(a.k,{flexDir:{base:"column",sm:"row"},mb:12,alignItems:"center",justifyContent:"space-between",children:(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(M._,{mr:2,color:"text.secondary.color"}),(0,o.jsx)(c.X,{mr:3,fontSize:"xl",as:"h2",children:F("project")})]})}),(0,o.jsxs)(a.k,{flexDir:"column",children:[(0,o.jsx)(eQ.Z,{rules:{required:F("projectNameRequired")},control:B,name:"projectName",label:F("projectName")}),(0,o.jsx)(eQ.Z,{rules:{required:F("projectLinkRequired"),validate:e=>(0,e8.jv)(e)||F("validUrl")},bodyStyles:{mt:8},control:B,name:"projectLink",label:F("projectLink")}),(0,o.jsx)(eQ.Z,{rules:{required:F("projectDescriptionRequired")},bodyStyles:{mt:8,mb:8},control:B,name:"projectInfo",label:F("projectDescription"),maxLength:130,currentCount:null!==(t=null==Z?void 0:Z.length)&&void 0!==t?t:0,countActive:!0}),(0,o.jsxs)(a.k,{mb:8,alignItems:"center",children:[(0,o.jsx)(tO.l,{m:0,mr:4,variant:"",children:F("addImage")}),V?(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(R.x,{color:"text.secondary.color",fontWeight:"normal",fontSize:"sm",children:V.name}),(0,o.jsx)(e_.h,{variant:"ghost",borderRadius:"full",p:1,onClick:()=>{L(null)},children:(0,o.jsx)(M.rF,{color:"red.500"})})]}):(0,o.jsx)(tM.Z,{variant:"outline",size:"xs",onChange:O,label:F("upload"),rightIcon:(0,o.jsx)(M.UW,{size:16,ml:1})})]}),(0,o.jsxs)(a.k,{justifyContent:"space-between",alignItems:"center",children:[(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(R.x,{mr:3,fontWeight:500,fontSize:"sm",children:F("isPublic")}),(0,o.jsx)(tU.Z,{formControlProps:{w:"auto"},name:"isProjectPublic",control:B})]}),(0,o.jsx)(K.z,{type:"submit",isLoading:E,isDisabled:E,children:F("submit")})]})]})]})})})},tJ=n(53014),tq=n(77840),tG=n(15874),tK=n(12746),tY=n(53416),tQ=n(98814),tX=n(64998),t0=e=>{let{questionData:t,testStatus:n,setTestStatus:r,sourceURL:i,courseProgressId:l,extraContentId:c,quizId:d,previousSubmission:u}=e,{showMessage:m}=e3(),[h,{loading:b}]=(0,C.D)(D.SM),{t:f}=(0,w.$G)("topic"),{data:x}=(0,I.useSession)(),[p,g]=(0,y.useState)(t.map(e=>({questionIndex:e._id,answerIndex:null})));(0,y.useEffect)(()=>{g(u?u.answers.map(e=>({questionId:(0,tY.x0)(),answerIndex:e})):t.map(e=>({questionIndex:e._id,answerIndex:null}))),u&&E(u)},[u]);let[j,v]=(0,y.useState)(0),[k,S]=(0,y.useState)(!1),[A,E]=(0,y.useState)(u),_=n===eK.CONTINUES&&j===t.length-1,B=e=>{var n;let o=[...p];(null===(n=o[j])||void 0===n?void 0:n.index)===e?o[j]=null:o[j]={questionId:t[j].questionId,answerIndex:parseInt(e)},g(o)},P=()=>{v(j+1)},N=()=>{v(j-1)},$=()=>{S(!0),h({variables:{_id:l,completedQuiz:{sourceURL:i,extraContentId:c,answers:p}},onCompleted:e=>{var t;let{updateCourseProgress:n}=e,o=n.completedQuizzes.find(e=>e.extraContentId===d);m(n),E(o);let i=o.result;T.n.track("sayfa-test-submission",{username:null==x?void 0:null===(t=x.user)||void 0===t?void 0:t.username,isPassed:i>80?"passed":"not-passed",result:o.result}),r(eK.COMPLETED),S(!1)},onError:e=>{console.log(e),S(!1)}})},z=()=>{r(eK.COMPLETED)},F=e=>{var t,n,o,r,i;return"number"!=typeof(null===(t=p[j])||void 0===t?void 0:t.answerIndex)&&(null==A?void 0:A.correctAnswers[j].correctIndex)===e?"orange":"number"==typeof(null===(n=p[j])||void 0===n?void 0:n.answerIndex)&&(null==A?void 0:null===(o=A.correctAnswers[j])||void 0===o?void 0:o.correctIndex)===e?"green":"number"==typeof(null===(r=p[j])||void 0===r?void 0:r.answerIndex)&&(null===(i=p[j])||void 0===i?void 0:i.answerIndex)===e?"red":void 0},{getCheckboxProps:V}=(0,tq.u)({}),L=n!==eK.CONTINUES&&j===t.length-1,O=(0,y.useMemo)(()=>{var e,r,i;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(a.k,{mb:4,alignItems:"center",children:[(0,o.jsx)(R.x,{fontSize:"sm",color:"primary.color",fontWeight:"medium",mr:2,children:"".concat(j+1,"/").concat(t.length," ").concat(f("question"))}),(0,o.jsx)(tG.Z,{progressProps:{minH:2,h:2,flexGrow:1,maxWidth:36,variant:"secondary"},value:(j+1)/t.length*100})]}),(0,o.jsx)(R.x,{mb:2,fontWeight:"semibold",children:(0,o.jsx)(eX.Z,{children:null===(e=t[j])||void 0===e?void 0:e.title})}),null===(i=t[j])||void 0===i?void 0:null===(r=i.options)||void 0===r?void 0:r.map((e,r)=>{var i;return(0,o.jsx)(s.xu,{mb:1.5,children:(0,o.jsx)(tK.T3,{...n===eK.SHOW_ANSWER&&{radioColor:F(r),dotColor:F(r)},...V({disabled:n===eK.SHOW_ANSWER}),onChange:()=>B(r),isChecked:(null===(i=p[j])||void 0===i?void 0:i.answerIndex)===r||n===eK.SHOW_ANSWER&&(null==A?void 0:A.correctAnswers[j].correctIndex)===r,children:(0,o.jsx)(eX.Z,{children:e})})},t[j].questionId+r)}),(0,o.jsxs)(s.xu,{mt:4,children:[(0,o.jsxs)(K.z,{isDisabled:0===j||b,onClick:N,mr:2,variant:"outline",children:[(0,o.jsx)(tQ.Z,{})," ",f("previous")]}),(0,o.jsx)(K.z,{onClick:_?$:P,ml:2,variant:"outline",isLoading:b,isDisabled:b||L,children:_?f("submit"):(0,o.jsxs)(o.Fragment,{children:[f("next"),(0,o.jsx)(tX.Z,{})]})}),n!==eK.CONTINUES?(0,o.jsx)(K.z,{isLoading:k,onClick:z,ml:2,variant:"outline",isDisabled:b,children:f("result")}):null]})]})},[p,j,t,k,f,A,u,n,L]);return(0,o.jsxs)(s.xu,{children:[n===eK.COMPLETED||n===eK.SHOW_ANSWER?(0,o.jsxs)(s.xu,{border:"px",children:[(0,o.jsxs)(a.k,{mb:4,alignItems:"center",flexDirection:{base:"column",md:"row"},gap:{base:4,md:0},children:[(0,o.jsx)(s.xu,{borderRadius:"md",mr:{base:"0",md:8},px:8,py:4,border:"1px",borderColor:"orange.300",children:(0,o.jsx)(R.x,{fontWeight:"bold",children:"".concat(null==A?void 0:A.correctCount," ").concat(f("correct")," - ").concat(null==A?void 0:A.wrongCount," ").concat(f("wrong")," - ").concat(null==A?void 0:A.emptyCount," ").concat(f("empty"))})}),(0,o.jsxs)(a.k,{borderRadius:"md",px:8,py:4,fontWeight:"bold",alignItems:"center",border:"1px",borderColor:"orange.300",bg:"orange.200",children:[(0,o.jsxs)(R.x,{mr:1,children:[f("result"),":"]}),(0,o.jsx)(R.x,{children:"".concat(f(null==A?void 0:A.result),"%")})]})]}),n===eK.SHOW_ANSWER?O:null,n!==eK.SHOW_ANSWER?(0,o.jsx)(a.k,{justifyContent:{base:"center",md:"flex-start"},alignItems:{base:"center",md:"flex-start"},children:(0,o.jsx)(K.z,{onClick:()=>{v(0),r(eK.SHOW_ANSWER)},variant:"outline",children:f("showAnswers")})}):null]}):null,n===eK.CONTINUES?(0,o.jsx)(o.Fragment,{children:O}):null]})},t1=e=>{let{testData:t,hasUserEnrolled:n,setEnrollmentModalOpen:r,sourceURL:i,progressData:u,onOpenSignUpModal:m}=e,{data:h}=(0,I.useSession)(),[b,f]=(0,y.useState)(null),[x,p]=(0,y.useState)(eK.NOT_STARTED);(0,y.useEffect)(()=>{var e;let n=null==u?void 0:null===(e=u.completedQuizzes)||void 0===e?void 0:e.find(e=>e.extraContentId===t._id);p(n?eK.COMPLETED:eK.NOT_STARTED),f(n)},[i,u]);let{t:g}=(0,w.$G)("topic");return(0,o.jsxs)(l.Z,{mb:3,children:[(0,o.jsxs)(a.k,{mb:4,alignItems:"center",children:[(0,o.jsx)(M._,{mr:2,color:"text.secondary.color"}),(0,o.jsx)(c.X,{mr:2,fontSize:"xl",as:"h2",children:g("test")}),(0,o.jsx)(d.u,{label:(0,o.jsxs)(s.xu,{children:[(0,o.jsx)(R.x,{mb:2,children:g("testTooltipHeader")})," ",(0,o.jsx)(R.x,{children:g("testTooltipBody")})]}),children:(0,o.jsx)(tJ.h,{w:"1rem",h:"1rem"})})]}),x===eK.NOT_STARTED?(0,o.jsx)(s.xu,{children:(0,o.jsx)(K.z,{onClick:()=>h?n?void p(eK.CONTINUES):r(!0):m(),children:g("start")})}):null,x===eK.CONTINUES||x===eK.COMPLETED||x===eK.SHOW_ANSWER?(0,o.jsx)(t0,{quizId:t._id,previousSubmission:b,extraContentId:t._id,courseProgressId:null==u?void 0:u._id,sourceURL:i,questionData:t.test,testStatus:x,setTestStatus:p}):null]})},t2=n(2229),t3=n(63343),t8=n(36979),t5=n(9560),t6=e=>{let{starCount:t=5,onChange:n,starColor:r="orange.300",size:i=18,containerProps:s,starProps:l,value:c,countVisible:d=!1,countProps:u}=e,{query:m}=(0,A.useRouter)(),[h,b]=(0,y.useState)(null),f=(0,y.useMemo)(()=>{let e=null!==h?h:c,a=Array.from({length:t},(t,a)=>(a++,(0,o.jsxs)(x.m.span,{position:"relative",cursor:"pointer",onMouseEnter:()=>b(a),onClick:()=>{n&&n(a)},onMouseLeave:()=>b(null),children:[(0,o.jsx)(x.m.span,{strokeWidth:"1.5px",as:t5.Z,fill:null!==e&&e>=a?r:"transparent",...l,color:r,size:i}),d&&(0,o.jsx)(R.x,{position:"absolute",top:"52%",left:"48%",transform:"auto",translateX:"-50%",translateY:"-50%",fontSize:"10px",color:e>=a?"white":"orange.300",...u,children:a})]},a)));return a},[t,h,c,m]);return(0,o.jsx)(a.k,{...s,children:f})};function t4(){let e=(0,tt._)(["\n  mutation addRating($rating: Int!, $sourceURL: String!, $courseId: String!) {\n    addRating(rating: $rating, sourceURL: $sourceURL, courseId: $courseId) {\n      rating\n    }\n  }\n"]);return t4=function(){return e},e}let t9=(0,tn.Ps)(t4());var t7=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,[o,r]=(0,y.useState)(e);return(0,y.useEffect)(()=>{r(e)},[...t]),(0,y.useEffect)(()=>{let e;return o>0?e=setTimeout(()=>{r(e=>e-1)},1e3):(n&&n(),clearTimeout(e)),()=>clearTimeout(e)},[o,r]),[o,r]},ne=n(42793),nt=n(98353),nn=n(77374),no=n(81941);function nr(){let e=(0,tt._)(["\n  mutation addCourseRating($courseId: String!, $rating: Int!) {\n    addCourseRating(courseId: $courseId, rating: $rating) {\n      _id\n    }\n  }\n"]);return nr=function(){return e},e}let ni=(0,tn.Ps)(nr());var na=e=>{let{isOpen:t,courseId:n,onClose:r}=e,{t:s}=(0,w.$G)("topic"),[l,c]=(0,y.useState)(0),[d,{loading:u}]=(0,C.D)(ni),{colorMode:h}=(0,i.If)(),x=(0,i.ff)("#fafafa","#33354a");return(0,o.jsxs)(nt.u_,{isOpen:t,onClose:r,children:[(0,o.jsx)(m.Z,{}),(0,o.jsxs)(nn.h,{children:[(0,o.jsx)(b.o,{}),(0,o.jsxs)(f.f,{bg:x,p:0,display:"flex",flexDir:"column",alignItems:"center",children:[(0,o.jsx)(no.E,{alt:"course completed",w:"full",src:"/images/".concat("light"===h?"courseComplete":"courseCompletionDark",".png ")}),(0,o.jsx)(R.x,{fontSize:"lg",mt:2,children:s("recommendCourse")}),(0,o.jsx)(a.k,{mb:4,mt:4,w:"full",justifyContent:"center",children:(0,o.jsx)(R.x,{fontSize:"md",children:"0: ".concat(s("iDont")," - 10: ").concat(s("iDo"))})}),(0,o.jsx)(t6,{countVisible:!0,size:32,value:l,starCount:10,onChange:e=>{c(e),d({variables:{courseId:n,rating:e},onError:()=>{},onCompleted:()=>{}})}}),(0,o.jsxs)(K.z,{mb:4,onClick:r,mt:8,isLoading:u,isDisabled:u,children:[s("continue")," \uD83D\uDE80"]})]})]})]})},ns=e=>{let{sourceURL:t,onOpen:n,completedModules:r=[],topicSlug:i,lessonsOrder:l,courseSlug:c,courseProgressId:d,courseId:u,lessonId:m,userBookmark:h,hasUserEnrolled:b,setEnrollmentModalOpen:f,totalLessonCount:x,refetchBookmark:p,starRate:g,setStarRate:j,onOpenSignUpModal:v}=e,k=(0,er.p)(),{push:S}=(0,A.useRouter)(),{showMessage:E}=e3(),{t:_}=(0,w.$G)("topic"),[B]=(0,C.D)(t9),[P]=t7(5,[c,i]),[N,$]=(0,y.useState)(h),[z,F]=(0,y.useState)(!1),V=(0,t3.S)({base:!0,md:!1}),L=(0,t3.S)({base:!1,md:!0}),{data:O}=(0,I.useSession)(),[U,H]=(0,y.useState)(null),[W,{loading:Z}]=(0,C.D)(D.SM,{refetchQueries:["userPoints"]}),[J]=(0,C.D)(ne.O,{variables:{courseId:u,lessonId:m},onError:e=>{console.log(e)},onCompleted:()=>{$(!N)}}),q=(0,y.useMemo)(()=>{let e=l.reduce((e,t)=>e=[...e,...t.items],[]);if(i===e[e.length-1].url)return!0},[i,l]);(0,y.useEffect)(()=>$(h.bookmark),[h]);let G=null==r?void 0:r.some(e=>e.sourceURL===i),Y=(0,y.useMemo)(()=>tI()(async(e,t,n,o)=>{var r;T.n.track("sayfa-feedback",{username:null==O?void 0:null===(r=O.user)||void 0===r?void 0:r.username,courseSlug:o,rating:e}),B({variables:{rating:e,courseId:t,sourceURL:n},onError:()=>{},onCompleted:()=>{p()}})},1e3),[B,O]),Q=e=>O?b?void(j(e),Y(e,u,t,c)):f(!0):v(),X=(0,y.useMemo)(()=>tI()(async(e,t)=>{await J({variables:{courseId:e,lessonId:t}})},2e3),[J]);return(0,o.jsxs)(s.xu,{color:"white",children:[(0,o.jsx)(s.xu,{transition:"all .5s linear",transform:"auto",bottom:0,left:0,w:"full",bg:"gray.400",position:"fixed",zIndex:111,children:(0,o.jsx)(t8.W,{py:3,children:(0,o.jsxs)(a.k,{flexDir:"row",alignItems:"center",justifyContent:"space-between",children:[(0,o.jsx)(a.k,{flexDir:"column",gap:4,children:(0,o.jsxs)(a.k,{children:[(0,o.jsx)(a.k,{alignItems:"center",children:(0,o.jsxs)(K.z,{_hover:{color:"white"},onClick:()=>O?b?void($(!N),X(u,m)):f(!0):v(),color:"white",borderRadius:"full",variant:"link",children:[(0,o.jsx)(M.rp,{fill:N?"white":"transparent",fontSize:24,mr:{base:1,lg:2}}),V?null:(0,o.jsx)(R.x,{fontSize:{base:"xs",lg:"md"},fontWeight:"medium",children:_("save")})]})}),b&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.k,{mx:{base:1.5,lg:3},bg:"white",my:-2,children:(0,o.jsx)(s.xu,{w:"px"})}),(0,o.jsxs)(K.z,{_hover:{color:"white"},onClick:n,variant:"link",color:"white",children:[(0,o.jsx)(M.Yr,{mr:{base:1,lg:2},fontSize:24}),V?null:(0,o.jsx)(R.x,{fontSize:{base:"xs",lg:"md"},fontWeight:"medium",children:_("myNotes")})]})]})]})}),(0,o.jsx)(a.k,{display:{base:"flex",md:"none"},children:(0,o.jsx)(t6,{value:null!=g?g:0,onChange:Q})}),(0,o.jsxs)(a.k,{children:[(0,o.jsxs)(a.k,{flexDir:"column",alignItems:"center",children:[V?null:(0,o.jsx)(R.x,{textAlign:"center",fontWeight:"medium",fontSize:{base:"xs",lg:"md"},children:_("howDidYouFind")}),L&&(0,o.jsx)(t6,{value:null!=g?g:0,onChange:Q})]}),(0,o.jsx)(a.k,{ml:3,alignItems:"center",children:(0,o.jsx)(K.z,{whiteSpace:"wrap",onClick:()=>{if(!O)return v();if(!b)return f(!0);if((null==r?void 0:r.length)===x&&q)return S("/my-courses"),k({title:_("youAlreadyCompleted"),status:"error"});let e=l.reduce((e,t)=>e=[...e,...t.items],[]),n=e.findIndex(e=>e.url===i)+1;G?n<=e.length-1&&S("/courses/".concat(c,"/").concat(e[n].url)):0!==P?k({title:_("goingTooFast",{seconds:P}),status:"error"}):W({onCompleted:t=>{if(E(t.updateCourseProgress),t.updateCourseProgress.completedModules.length===x){var o,r,i;if((null===(o=t.updateCourseProgress.completedPathsWithThisCourse)||void 0===o?void 0:o.length)>0){let e=t.updateCourseProgress.completedPathsWithThisCourse[0].pathSlug;return setTimeout(()=>{S("/paths/".concat(e,"?showCertificate=true"))},1200)}return t.updateCourseProgress.isCourseJustFinished?((null==t?void 0:null===(r=t.updateCourseProgress)||void 0===r?void 0:r.careerPath)&&H(null==t?void 0:null===(i=t.updateCourseProgress)||void 0===i?void 0:i.careerPath),F(!0)):S("/my-courses")}!G&&n<=e.length-1&&S("/courses/".concat(c,"/").concat(e[n].url))},onError:e=>{console.log(e)},variables:{_id:d,lastCompletedModule:t}})},bgColor:"blue.500",px:V?"3":"8",py:V?"1":"4",size:{base:"xs",lg:"md"},isLoading:Z,isDisabled:Z||!G&&0!==P,variant:G||0===P?"primary":"outline",children:G?(0,o.jsxs)(a.k,{fontSize:"16px",alignItems:"center",children:[(0,o.jsx)(a.k,{fontSize:{base:"xs",lg:"md"},children:V?_("youHaveAlreadyCompletedLessonMobile"):_("youHaveAlreadyCompletedLesson")}),(0,o.jsx)(M.sN,{color:"orange.300",ml:2})]}):(0,o.jsxs)(a.k,{fontSize:"16px",alignItems:"center",children:[(0,o.jsxs)(a.k,{fontSize:{base:"xs",lg:"md"},children:[q||V?_("complete"):_("completeAndProceed")," "]}),P?(0,o.jsxs)(s.xu,{width:10,children:[" (",P,") "]}):(0,o.jsx)(M.sN,{color:"orange.300",ml:2,fontSize:""})]})})})]})]})})}),z&&(0,o.jsx)(na,{isOpen:z,courseId:u,onClose:()=>{F(!1),S(U?"/paths/".concat(U):"/my-courses")}})]})},nl=e=>{var t,n,B,P,$;let{data:z}=e,{isOpen:F,onClose:R,onOpen:V}=(0,r.q)(),L=(0,A.useRouter)(),O=(0,y.useRef)(null),U=(0,y.useRef)(null),M=(0,y.useRef)(null),J=(0,y.useRef)(null),{t:G}=(0,w.$G)("topic"),{data:K}=(0,I.useSession)(),Y=(0,i.ff)("blackAlpha.50","gray.700"),{onNotesModalOpen:Q,focusMode:X}=(0,t2.o)(),ee=(0,i.ff)("blue.500","blue.300"),[et,en]=(0,y.useState)(0),[eo,er]=(0,y.useState)(null),[ei,ea]=(0,y.useState)(!1),[es,el]=(0,y.useState)(!1),{course:ec,extraContents:ed,lesson:eu}=z,{refetch:em}=(0,k.a)(_.tT,{ssr:!1,fetchPolicy:"cache-and-network",variables:{courseId:ec._id},skip:!ec._id||!(null==K?void 0:K.isMeteorTokenReady),onCompleted:e=>{let{courseProgressById:t}=e;er(t)}}),{data:{bookmark:eh=!1}={},refetch:eb}=(0,k.a)(tL,{ssr:!1,fetchPolicy:"cache-and-network",skip:!eo||!(null==K?void 0:K.isMeteorTokenReady),variables:{lessonId:eu._id,sourceURL:eu.url}}),ef=(0,y.useMemo)(()=>!!eZ(eu.body),[eu]),{topicSlug:ex,careerPath:ep}=L.query||{},eg=(0,y.useMemo)(()=>{let e={};return null==ed||ed.forEach(t=>{e[t.contentType]?e[t.contentType].push(t):e[t.contentType]=[t]}),e},[ed]),[ej,{loading:ev}]=(0,C.D)(D.C4,{variables:{courseId:ec._id,careerPath:ep},onCompleted:async()=>{var e;T.n.track("egitim-registered",{username:null==K?void 0:null===(e=K.user)||void 0===e?void 0:e.username,title:null==ec?void 0:ec.title}),await em()},onError:()=>{}}),ey=async()=>{try{await ej(),el(!1)}catch(e){console.log(e)}},{getButtonProps:ek,getDisclosureProps:eC,isOpen:eS,onClose:ew,onOpen:eI}=(0,r.q)({defaultIsOpen:!!X}),[eA,eE]=(0,y.useState)(!1),[eD,e_]=(0,y.useState)(!0),eB=(0,y.useRef)(null),[eT,eP]=(0,y.useState)(!1);(0,y.useEffect)(()=>{X?ew():eI()},[X]),(0,y.useEffect)(()=>{if(!ec||!eu)return},[K,ec,eu]);let eN=(0,y.useMemo)(()=>(null==eu?void 0:eu.url)&&eH[null==eu?void 0:eu.url],[null==eu?void 0:eu.url]);return(0,y.useEffect)(()=>{var e,t;en(null!==(t=null==eh?void 0:null===(e=eh.rating)||void 0===e?void 0:e.rating)&&void 0!==t?t:0)},[eh]),(0,o.jsxs)(S.C1,{scrollSmooth:!0,disableFocusLock:!0,closeWithMask:!1,disableInteraction:!1,styles:{popover:e=>({...e,borderRadius:20,background:"#fff",color:"#212B36",fontSize:"1rem"}),badge:e=>({...e,color:"#fff",backgroundColor:"#444bff",fontSize:"1.3rem"})},padding:{mask:18},children:[(0,o.jsx)(eq.Z,{title:G("titleWithLesson",{title:eu.title}),description:G("desc",{title:eu.title}),contentType:"modul",published:eu.createdAt,updated:eu.updatedAt}),(0,o.jsxs)(a.k,{flex:1,gap:eS?8:0,children:[(0,o.jsxs)(a.k,{position:"relative",display:{base:"none",lg:"flex"},children:[(0,o.jsx)(E.E.div,{...eC(),hidden:eA,initial:!1,onAnimationStart:()=>eE(!1),onAnimationComplete:()=>eE(!eS),animate:{width:eS?290:0},style:{marginLeft:0},children:(0,o.jsx)(s.xu,{position:"sticky",transition:"0.2s linear",top:"2",h:"90vh",ref:eB,onMouseEnter:()=>eP(!0),onMouseLeave:()=>eP(!1),sx:{"&::-webkit-scrollbar":{width:eT?"4px":"0px"},"&::-webkit-scrollbar-thumb":{background:"gray.300",borderRadius:"24px"}},overflowY:"auto",overflowX:"hidden",children:(0,o.jsxs)(s.xu,{pr:2,pb:2,w:"290px",children:[(0,o.jsx)(l.Z,{p:3,mb:3,children:(0,o.jsx)(c.X,{as:"h2",fontSize:"16px",color:ee,children:null==ec?void 0:ec.title})}),(0,o.jsx)(l.Z,{"data-testid":"course-details-card",children:(0,o.jsx)(H,{completedModules:null==eo?void 0:eo.completedModules,lessonsOrder:ec.lessonsOrder,parentCouseSlug:ec.slug,bg:Y})})]})})}),(0,o.jsx)(s.xu,{mt:"25px",mr:-10,ml:-7,position:"sticky",h:"90vh",w:{md:"3rem"},zIndex:999,top:"22px",display:"flex",justifyContent:"center",right:eS?"20px":"0px",onMouseEnter:()=>e_(!0),onMouseLeave:()=>eS&&e_(!1),children:eD&&(0,o.jsx)(d.u,{label:eS?"Close sidebar":"Open sidebar","aria-label":"Sidebar collapse tooltip",children:(0,o.jsx)(a.k,{...ek(),"aria-label":"Collapse Sidebar",cursor:"pointer",bg:"pagination.button.bg",w:6,justifyContent:"center",alignItems:"center",borderRadius:"md",h:6,children:eS?(0,o.jsx)(j.Y,{w:2,h:2}):(0,o.jsx)(v.L,{w:2,h:2})})})})]}),(0,o.jsx)(a.k,{onClick:()=>ea(!0),zIndex:4,position:"fixed",top:"76px",left:-1,cursor:"pointer",display:{base:"flex",lg:"none"},bg:"pagination.button.bg",w:6,justifyContent:"center",alignItems:"center",borderRadius:"md",h:6,children:(0,o.jsx)(v.L,{w:2,h:2})}),(0,o.jsxs)(u.d,{isOpen:ei,placement:"left",onClose:()=>ea(!1),children:[(0,o.jsx)(m.Z,{}),(0,o.jsxs)(h.s,{children:[(0,o.jsx)(b.o,{}),(0,o.jsxs)(f.f,{children:[(0,o.jsx)(c.X,{mb:4,as:"h2",fontSize:"14px",children:null==ec?void 0:ec.title}),(0,o.jsx)(H,{completedModules:null==eo?void 0:eo.completedModules,lessonsOrder:ec.lessonsOrder,parentCouseSlug:ec.slug,bg:Y})]})]})]}),(0,o.jsxs)(a.k,{transition:"width .3s linear",w:{md:eS?"65%":"100%",base:"full"},flexDirection:"column",bg:"bg",zIndex:3,borderRadius:"xl",flex:1,children:[eN&&(0,o.jsx)(l.Z,{mb:6,children:eN}),null===(t=eg[eG.VIDEO])||void 0===t?void 0:t.map((e,t)=>(0,o.jsxs)(l.Z,{ref:U,mb:6,children:[0===t&&(0,o.jsx)(c.X,{mb:6,as:"h4",size:"md",fontSize:"24px",children:null==eu?void 0:eu.title}),(0,o.jsx)(x.m.span,{sx:{aspectRatio:"16/9"},...X&&{maxH:"calc(100vh - 300px)",width:"auto"},borderRadius:"xl",overflow:"hidden",children:(0,o.jsx)(N,{width:"100%",height:"100%",url:e.videoURL,controls:!0})})]},t)),(null==eu?void 0:eu.body)&&ef&&(0,o.jsx)(l.Z,{ref:M,mb:3,children:(0,o.jsx)(Z.Z,{children:eu.body})}),null===(n=eg[eG.TEST])||void 0===n?void 0:n.map((e,t)=>(0,o.jsx)(s.xu,{ref:O,children:(0,o.jsx)(t1,{progressData:eo,sourceURL:eu.url,setEnrollmentModalOpen:el,hasUserEnrolled:!!eo,testData:e,onOpenSignUpModal:V},t)},t)),null===(B=eg[eG.CODEPEN])||void 0===B?void 0:B.map((e,t)=>(0,o.jsx)(q,{hash:null==e?void 0:e.codepenHash,user:null==e?void 0:e.codepenUser},t)),null===(P=eg[eG.DATA_INPUT])||void 0===P?void 0:P.map((e,t)=>{var n,r;let i=null==eo?void 0:null===(n=eo.completedProjects)||void 0===n?void 0:n.some(t=>(null==t?void 0:t.extraContentId)===(null==e?void 0:e._id));return(null==e?void 0:null===(r=e.title)||void 0===r?void 0:r.toLowerCase())==="hackerrank challenge"?(0,o.jsx)(e5,{isAlreadyCompleted:i,setProgressData:er,setEnrollmentModalOpen:el,courseTitle:null==ec?void 0:ec.title,sourceURL:eu.url,courseId:null==ec?void 0:ec._id,hasUserEnrolled:!!eo,courseProgressId:null==eo?void 0:eo._id,content:e,onOpenSignUpModal:V},t):(0,o.jsx)(tZ,{setProgressData:er,isAlreadyCompleted:i,sourceURL:null==eu?void 0:eu.url,courseProgressId:null==eo?void 0:eo._id,courseTitle:null==ec?void 0:ec.title,extraContent:e,courseId:null==ec?void 0:ec._id,hasUserEnrolled:!!eo,setEnrollmentModalOpen:el,onOpenSignUpModal:V},t)}),!X&&(0,o.jsxs)(p.r,{mt:4,gap:4,templateColumns:{base:"repeat(1,1fr)",md:"repeat(3,1fr)"},children:[(0,o.jsxs)(g.P,{colSpan:{base:3,md:2},children:[!eN&&(0,o.jsx)(l.Z,{display:{base:"flex",md:"none"},mb:3,p:0,overflow:"hidden",children:(0,o.jsx)(eW,{})}),(0,o.jsx)(l.Z,{bg:Y,"data-testid":"comment-card",ref:J,p:0,maxHeight:"1300px",children:(0,o.jsx)(tR,{setEnrollmentModalOpen:el,hasUserEnrolled:!!eo,sourceUrl:eu.url,courseId:ec._id,onOpenSignUpModal:V})})]}),!eN&&(0,o.jsx)(g.P,{colSpan:{base:3,md:1},children:(0,o.jsx)(l.Z,{display:{base:"none",md:"flex"},mb:3,p:0,overflow:"hidden",children:(0,o.jsx)(eW,{})})})]})]})]}),(0,o.jsx)(ns,{refetchBookmark:eb,totalLessonCount:null==ec?void 0:null===($=ec.flattenContent)||void 0===$?void 0:$.length,setEnrollmentModalOpen:el,hasUserEnrolled:!!eo,userBookmark:eh,lessonId:null==eu?void 0:eu._id,courseProgressId:null==eo?void 0:eo._id,courseSlug:null==ec?void 0:ec.slug,lessonsOrder:ec.lessonsOrder,topicSlug:ex,completedModules:null==eo?void 0:eo.completedModules,sourceURL:null==eu?void 0:eu.url,courseId:null==ec?void 0:ec._id,onOpen:Q,starRate:et,setStarRate:en,onOpenSignUpModal:V,careerPath:null==eo?void 0:eo.careerPath}),(0,o.jsx)(W.Z,{size:"md",text:G("enrollmentIsRequired"),onClose:el,isOpen:es,isLoading:ev,isDisabled:ev,leftButtonProps:{leftButtonText:G("cancel"),onClick:()=>el(!1),variant:"muted",isDisabled:ev},rightButtonProps:{rightButtonText:G("start"),onClick:ey,variant:"primary",isLoading:ev}}),!K&&(0,o.jsx)(eJ.Z,{isOpen:F,onClose:R})]})},nc=n(80797),nd=n(58606),nu=n(22650),nm=e=>{var t,n,r;let{courseId:i,isOpen:a,onClose:s,zIndex:l}=e,c=(0,e2.cI)(),d=(0,er.p)(),{t:u}=(0,w.$G)("topic"),m=(0,e2.qo)({name:"notes",control:c.control}),[h,{loading:b}]=(0,C.D)(nc.n),{data:f}=(0,k.a)(_.mF,{fetchPolicy:"cache-and-network"}),{data:x,refetch:p}=(0,k.a)(nd.l,{variables:{courseId:i},skip:!a||!i,fetchPolicy:"cache-and-network",onCompleted:e=>{let{getCourseNote:t}=e;c.setValue("noteBody",(null==t?void 0:t.body)||"")}});(0,y.useEffect)(()=>{var e;if(null==f?void 0:f.enrolledCourses){let t=null==f?void 0:null===(e=f.enrolledCourses)||void 0===e?void 0:e.find(e=>(null==e?void 0:e.courseId)===i);c.setValue("notes",{value:null==t?void 0:t.courseId,label:null==t?void 0:t.courseTitle})}},[f]),(0,y.useEffect)(()=>{let{notes:e}=c.getValues();(null==e?void 0:e.value)&&a&&p({courseId:e.value})},[m]);let g=(0,y.useMemo)(()=>tI()(async e=>{var t,n,o;let{notes:r,noteBody:i}=e;(0,e8.av)(null!==(n=null==x?void 0:null===(t=x.getCourseNote)||void 0===t?void 0:t.body)&&void 0!==n?n:"")!==(0,e8.av)(null!==(o=i.htmlString)&&void 0!==o?o:"")&&(await h({variables:{courseId:r.value,body:i.htmlString,bodyJSON:i.jsonString},onError:()=>{}}),d({title:"Success",description:u("success"),status:"success",duration:2e3,isClosable:!0}))},3e3),[h,u,d,null==x?void 0:null===(t=x.getCourseNote)||void 0===t?void 0:t.body]);return(0,o.jsx)(nu.Z,{noteBody:null==x?void 0:null===(n=x.getCourseNote)||void 0===n?void 0:n.body,zIndex:l,isOpen:a,onClose:s,form:c,loading:b,notesOptions:null==f?void 0:null===(r=f.enrolledCourses)||void 0===r?void 0:r.map(e=>({value:e.courseId,label:e.courseTitle})),handleSubmit:g})},nh=n(3830),nb=n(48006);let nf=e=>{let{focusMode:t,setFocusMode:n}=e,{t:r}=(0,w.$G)("topic");return(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(R.x,{mr:2,fontWeight:"semibold",fontSize:"sm",children:r("focusMode")}),(0,o.jsx)(K.z,{px:"px",onClick:()=>n(!t),justifyContent:t?"flex-end":"flex-start",bg:t?"primary.color":"gray.300",borderRadius:"full",w:6,h:5,border:"1px",variant:"link",borderColor:t?"primary.color":"gray.300",children:(0,o.jsx)(s.xu,{h:"4",w:"4",borderRadius:"full",bg:"white"})})]})};nl.pageLayout=e=>{let{children:t,isHideBreadcrumbs:n,courseId:r}=e,{t:i}=(0,w.$G)(["common","topic"]),{focusMode:l,setFocusMode:c,isNotesModalOpen:d,onNotesModalOpen:u,onNotesModalClose:m,onBackToCourse:h}=(0,t2.o)(),{data:b}=(0,I.useSession)();return(0,o.jsxs)(s.xu,{as:"section",minHeight:"100vh",h:"100%",display:"flex",flexDirection:"column",children:[!l&&(0,o.jsx)(nb.wp,{}),(0,o.jsxs)(t8.W,{flex:1,pt:{base:"6",lg:"6"},pb:{base:"12",lg:"24"},px:{base:"4",md:"8",lg:"16",xl:"32"},children:[(0,o.jsxs)(a.k,{justifyContent:{base:l?"space-between":"flex-end",md:"space-between"},alignItems:"center",mb:8,children:[l?(0,o.jsxs)(a.k,{alignItems:"center",children:[(0,o.jsx)(e_.h,{onClick:h,mr:2,borderRadius:"full",variant:"ghost",children:(0,o.jsx)(tQ.Z,{})}),(0,o.jsx)(R.x,{fontSize:"sm",children:i("navbar.returnToCourses")})]}):(0,o.jsx)(s.xu,{flex:1,display:{base:"none",md:"flex"},children:(0,o.jsx)(nh.Z,{isHideBreadcrumbs:n})}),(0,o.jsx)(a.k,{justifyContent:"flex-end",children:(0,o.jsx)(nf,{focusMode:l,setFocusMode:c})})]}),t,b&&(0,o.jsx)(nm,{isOpen:d,onClose:m,onOpen:u,courseId:r})]})]})};var nx=!0,np=nl},71072:function(e,t,n){"use strict";var o=n(85893),r=n(98353),i=n(65291),a=n(77374),s=n(23438),l=n(56880),c=n(88911),d=n(204),u=n(96272);t.Z=e=>{let{text:t,leftButtonProps:{leftButtonText:n,...m},rightButtonProps:{rightButtonText:h,...b},isOpen:f,onClose:x,size:p="xs",isLoading:g}=e;return(0,o.jsxs)(r.u_,{size:p,isCentered:!0,isOpen:f,onClose:x,children:[(0,o.jsx)(i.Z,{}),(0,o.jsxs)(a.h,{borderRadius:"3xl",children:[(0,o.jsx)(s.o,{}),(0,o.jsxs)(l.f,{px:6,py:8,children:[(0,o.jsx)(c.x,{textAlign:"center",fontSize:"lg",fontWeight:"medium",children:t}),(0,o.jsxs)(d.k,{justifyContent:"center",mt:3,children:[(0,o.jsx)(u.z,{mr:2,...m,isDisabled:g,children:n}),(0,o.jsx)(u.z,{ml:2,...b,isLoading:g,isDisabled:g,children:h})]})]})]})]})}},13163:function(e,t,n){"use strict";var o=n(85893),r=n(70654),i=n(96177),a=n(54232),s=n(93863),l=n(25322),c=n(43775),d=n(28129),u=n(89056),m=n(67294),h=n(87536);t.Z=e=>{let{name:t,size:n,label:b,rules:f,control:x,helperText:p,placeholder:g,labelProps:j,inputLeftAddon:v,inputRightAddon:y,preValidateHook:k,inputLeftElement:C,inputRightElement:S,defaultValue:w="",isPreValidationEnabled:I,bodyStyles:A,isRequired:E,isDisabled:D=!1,countActive:_,currentCount:B,maxLength:T,...P}=e,{fieldState:{error:N},field:{onChange:$,onBlur:z,value:F,ref:R}}=(0,h.bc)({name:t,rules:f,control:x,defaultValue:w}),V=(0,m.useCallback)(e=>$(I?k(e):e),[I,$,k]),L=f&&"required"in f;return(0,o.jsxs)(r.NI,{...A,isInvalid:N,ref:R,isDisabled:D,children:[b&&(0,o.jsxs)(i.l,{htmlFor:t,...j,children:[b," ",L&&(0,o.jsx)(a.m.span,{color:"red.500",children:"*"})]}),(0,o.jsxs)(s.B,{size:n,...P,children:[v&&(0,o.jsx)(l.Ui,{children:v}),C&&(0,o.jsx)(c.Z,{children:C}),(0,o.jsx)(d.I,{ref:R,name:t,value:F,onBlur:z,bg:"bg-input",isDisabled:D,onChange:V,placeholder:g}),y&&(0,o.jsx)(l.xW,{children:v}),S&&(0,o.jsx)(c.x,{children:S})]}),N&&(0,o.jsx)(u.J1,{children:N.message}),!N&&p&&(0,o.jsx)(r.Q6,{children:p}),_&&(0,o.jsx)(r.Q6,{position:"absolute",top:0,right:0,children:"".concat(B,"/").concat(T)})]})}},82251:function(e,t,n){"use strict";var o=n(85893),r=n(70654),i=n(96177),a=n(41753),s=n(89056),l=n(67294),c=n(87536);t.Z=e=>{let{name:t,size:n,label:d,rules:u,control:m,helperText:h,isRequired:b,placeholder:f,labelProps:x,inputLeftAddon:p,inputRightAddon:g,preValidateHook:j,inputLeftElement:v,inputRightElement:y,defaultValue:k="",isPreValidationEnabled:C,...S}=e,{fieldState:{error:w},field:{onChange:I,onBlur:A,value:E,ref:D}}=(0,c.bc)({name:t,rules:u,control:m,defaultValue:k}),_=(0,l.useCallback)(e=>I(C?j(e):e),[C,I,j]);return(0,o.jsxs)(r.NI,{isRequired:b,isInvalid:w,ref:D,children:[d&&(0,o.jsx)(i.l,{htmlFor:t,...x,children:d}),(0,o.jsx)(a.g,{ref:D,name:t,value:E,onBlur:A,bg:"bg-input",onChange:_,placeholder:f,...S}),w&&(0,o.jsx)(s.J1,{children:w.message}),!w&&h&&(0,o.jsx)(r.Q6,{children:h})]})}},39135:function(e,t,n){"use strict";var o=n(85893),r=n(28129),i=n(96272),a=n(67294);t.Z=e=>{let{label:t,icon:n,...s}=e,l=(0,a.useRef)(null);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.I,{onChange:e=>{s.onChange&&s.onChange(e)},ref:l,display:"none",type:"file"}),(0,o.jsx)(i.z,{onClick:e=>{l.current.value=null,l.current.click(),s.onClick&&s.onClick(e)},...s,children:t})]})}},22650:function(e,t,n){"use strict";var o=n(85893),r=n(67294),i=n(29379),a=n(23100),s=n(204),l=n(88911),c=n(89154),d=n(96272),u=n(42663),m=n(41352),h=n(11336),b=n(21951),f=n(5233),x=n(85625),p=n(17022);let g={display:"flex",position:"fixed",zIndex:"13"},j={open:{opacity:1,scale:1},closed:{opacity:0,scale:0}};t.Z=e=>{let{isOpen:t,onClose:n=()=>{},handleSubmit:v=()=>{},notesOptions:y,form:k,zIndex:C,noteBody:S="",noteBodyJSON:w,loading:I}=e,{t:A}=(0,f.$G)("my-notes"),E=(0,r.useRef)(null),D=(0,r.useRef)((0,p.av)(null!=S?S:"")),[_,B]=(0,r.useState)({x:0,y:50,width:500,height:400}),T=()=>{var e;null===(e=E.current)||void 0===e||e.updatePosition({x:50,y:50})};(0,r.useEffect)(()=>(window.addEventListener("resize",T),()=>{window.removeEventListener("resize",T)}),[]),(0,r.useLayoutEffect)(()=>{if(t){var e;null===(e=E.current)||void 0===e||e.updatePosition({..._})}},[t]);let{control:P,handleSubmit:N,watch:$}=k||{},z=$("noteBody");return(0,r.useEffect)(()=>{D.current=(0,p.av)(null!=S?S:"")},[S]),(0,r.useEffect)(()=>{var e,t;let n=(0,p.av)(null!==(e=null==z?void 0:z.htmlString)&&void 0!==e?e:"")!==D.current;if(n&&z){D.current=(0,p.av)(null!==(t=null==z?void 0:z.htmlString)&&void 0!==t?t:"");let{notes:e,noteBody:n}=k.getValues();n.htmlString&&n.editorState&&v({notes:e,noteBody:{htmlString:n.htmlString,editorState:n.editorState}})}},[z,v]),(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(u.s,{style:{...g,visibility:t?"visible":"hidden",opacity:t?1:0,transition:"visibility 0.3s linear,opacity 0.3s linear",pointerEvents:t?"all":"none",cursor:t?"move":"none",zIndex:1e3},default:_,minWidth:300,minHeight:400,maxWidth:"100vw",maxHeight:"100vh",bounds:".note-container",ref:E,cancel:".no-drag",onResizeStop:(e,t,n)=>{B({..._,width:n.style.width,height:n.style.height})},onDragStop:(e,t)=>{B({..._,x:t.lastX,y:t.lastY})},children:(0,o.jsx)(h.E.div,{initial:"closed",animate:t?"open":"closed",variants:j,style:{display:"flex",flex:1,width:"100%",height:"100%"},transition:{duration:.3},children:(0,o.jsxs)(i.Z,{zIndex:C,flexDirection:"column",flex:1,p:"4",boxShadow:"2xl",_focus:{boxShadow:"2xl"},children:[(0,o.jsxs)(a.xu,{transform:"auto",rotate:"-45deg",w:"15px",display:"flex",justifyContent:"center",flexDir:"column",alignItems:"center",position:"absolute",right:"3px",bottom:"8px",children:[(0,o.jsx)(a.xu,{mb:"2px",bg:"gray.500",h:"1px",w:"15px"}),(0,o.jsx)(a.xu,{bg:"gray.500",w:"7.5px",h:"1px"})]}),(0,o.jsxs)(s.k,{mb:"4",justifyContent:"space-between",children:[(0,o.jsx)(l.x,{fontSize:"2xl",fontWeight:"bold",children:A("add.note")}),(0,o.jsx)(c.h,{variant:"ghost",onClick:n,"data-testid":"close-note",icon:(0,o.jsx)(m.Z,{}),color:"text.secondary.color",className:"no-drag"})]}),(0,o.jsxs)(s.k,{flexDirection:"column",flex:"1",gap:"4",height:"full",overflow:"auto",children:[(0,o.jsx)(s.k,{maxW:"290px",className:"no-drag",cursor:"default",children:(0,o.jsx)(b.Z,{control:P,name:"notes",color:"red.500",options:y,styles:{container:{color:"select.with.notes.text.color"},dropdownIndicator:{color:"select.with.notes.text.color"}},placeholder:A("note")})}),(0,o.jsx)(a.xu,{height:"full",overflow:"auto",children:(0,o.jsx)(x.Z,{name:"noteBody",className:"no-drag",control:P,htmlContent:S,jsonContent:w})}),(0,o.jsx)(s.k,{justifyContent:"flex-end",children:(0,o.jsx)(d.z,{className:"no-drag",isLoading:I,isDisabled:I,onClick:N(v),children:A("save")})})]})]})})})})}},90867:function(e,t,n){"use strict";var o=n(85893),r=n(9008),i=n.n(r),a=n(11163);n(67294);let s=e=>{try{let t=new URL(e);return"".concat(t.protocol,"//").concat(t.hostname)}catch(e){return"https://academy.patika.dev"}},l="https://patika-prod.s3.eu-central-1.amazonaws.com/staticFiles/Patika-Academy-Bootcamp.jpg";t.Z=e=>{let{url:t,title:n="Patika.dev",description:r,image:c,path:d,contentType:u,published:m,updated:h,category:b,tags:f,twitter:x,isNotFound:p}=e,g=(0,a.useRouter)(),j=(null==g?void 0:g.asPath)||t?"https://academy.patika.dev"+(t||g.asPath):"https://academy.patika.dev/";return(0,o.jsxs)(i(),{children:[(0,o.jsx)("link",{rel:"canonical",href:j}),(0,o.jsx)("title",{children:"".concat(n," | Patika.dev")}),(0,o.jsx)("meta",{name:"description",content:r}),(0,o.jsx)("meta",{itemProp:"name",content:n}),(0,o.jsx)("meta",{itemProp:"description",content:r}),(0,o.jsx)("meta",{itemProp:"image",content:c||"https://patika-prod.s3.eu-central-1.amazonaws.com/staticFiles/Patika-Academy-Bootcamp.jpg"}),p&&(0,o.jsx)("meta",{name:"robots",content:"noindex"}),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("meta",{name:"twitter:site",content:"@patika_dev"}),(0,o.jsx)("meta",{name:"twitter:title",content:"".concat(n," | patika_dev")}),(0,o.jsx)("meta",{name:"twitter:description",content:r}),(0,o.jsx)("meta",{name:"twitter:creator",content:x?"@".concat(x):"@patika_dev"}),(0,o.jsx)("meta",{name:"twitter:image:src",content:c||l}),(0,o.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:title",content:"".concat(n," | Patika Dev")}),(0,o.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:type",content:u}),(0,o.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:url",content:s(d)}),(0,o.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:image",content:c||l}),(0,o.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:description",content:r}),(0,o.jsx)("meta",{prefix:"og: http://ogp.me/ns#",property:"og:site_name",content:"Patika Dev"}),c&&(0,o.jsx)("meta",{property:"og:image",content:c}),(0,o.jsx)("meta",{name:"fb:app_id",content:"196001354345637"}),m&&(0,o.jsx)("meta",{name:"article:published_time",content:m}),h&&(0,o.jsx)("meta",{name:"article:modified_time",content:h}),b&&(0,o.jsx)("meta",{name:"article:section",content:b}),f&&(0,o.jsx)("meta",{name:"article:tag",content:f})]})}},31286:function(e,t,n){"use strict";n.d(t,{C:function(){return a}});var o=n(82729),r=n(17283);function i(){let e=(0,o._)(["\n  fragment UserProjectAttributes on UserProject {\n    _id\n    userId\n    username\n    projectName\n    projectLink\n    projectInfo\n    projectImage\n    isProjectPublic\n    createdAt\n    updatedAt\n    sourceURL\n    extraContentId\n    courseId\n  }\n"]);return i=function(){return e},e}let a=(0,r.Ps)(i())},42793:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var o=n(82729),r=n(17283);function i(){let e=(0,o._)(["\n  mutation addOrRemoveBookmark($courseId: String!, $lessonId: String!) {\n    addOrRemoveBookmark(courseId: $courseId, lessonId: $lessonId)\n  }\n"]);return i=function(){return e},e}let a=(0,r.Ps)(i())},84189:function(e,t,n){"use strict";n.d(t,{$g:function(){return h},C4:function(){return u},SM:function(){return m},fu:function(){return b}});var o=n(82729),r=n(17283),i=n(62297);function a(){let e=(0,o._)(["\n  mutation createCourseProgress($courseId: String!, $careerPath: String) {\n    createCourseProgress(courseId: $courseId, careerPath: $careerPath) {\n      _id\n    }\n  }\n"]);return a=function(){return e},e}function s(){let e=(0,o._)(["\n  ","\n  ","\n  ","\n  ","\n  mutation updateCourseProgress(\n    $_id: String!\n    $lastVisitedModule: String\n    $lastCompletedModule: String\n    $completedProject: CompletedProjectInput\n    $completedQuiz: CompletedQuizInput\n  ) {\n    updateCourseProgress(\n      _id: $_id\n      lastVisitedModule: $lastVisitedModule\n      lastCompletedModule: $lastCompletedModule\n      completedProject: $completedProject\n      completedQuiz: $completedQuiz\n    ) {\n      ...CourseProgressAttributes\n      completedModules {\n        ...CompletedModuleAttributes\n      }\n      completedProjects {\n        ...CompletedProjectAttributes\n      }\n      completedQuizzes {\n        ...CompletedQuizAttributes\n        correctAnswers {\n          questionId\n          correctIndex\n        }\n      }\n      addedPoints {\n        type\n        points\n      }\n      completedPathsWithThisCourse {\n        pathId\n        pathTitle\n        pathSlug\n      }\n      isCourseJustFinished\n      careerPath\n    }\n  }\n"]);return s=function(){return e},e}function l(){let e=(0,o._)(["\n  mutation dropUserJoinedCourse($courseId: String!) {\n    dropUserJoinedCourse(courseId: $courseId) {\n      courseId\n    }\n  }\n"]);return l=function(){return e},e}function c(){let e=(0,o._)(["\n  mutation updatePointBlockedExtraContentIds($courseId: String!, $extraContentId: String!) {\n    updatePointBlockedExtraContentIds(courseId: $courseId, extraContentId: $extraContentId) {\n      blockedExtraContent {\n        courseId\n        extraContentId\n      }\n    }\n  }\n"]);return c=function(){return e},e}function d(){let e=(0,o._)(["\n  mutation courseCompleteForAdmin($slug: String, $careerPath: String) {\n    courseCompleteForAdmin(slug: $slug, careerPath: $careerPath) {\n      courseSlug\n    }\n  }\n"]);return d=function(){return e},e}let u=(0,r.Ps)(a()),m=(0,r.Ps)(s(),i.DB,i.i$,i.Dc,i.i6),h=(0,r.Ps)(l());(0,r.Ps)(c());let b=(0,r.Ps)(d())},80797:function(e,t,n){"use strict";n.d(t,{Y:function(){return l},n:function(){return s}});var o=n(82729),r=n(17283);function i(){let e=(0,o._)(["\n  mutation addOrUpdateNote($courseId: String!, $body: String!, $bodyJSON: Object) {\n    note: addOrUpdateNote(courseId: $courseId, body: $body, bodyJSON: $bodyJSON) {\n      _id\n      body\n      bodyJSON\n      title\n      userId\n      courseId\n    }\n  }\n"]);return i=function(){return e},e}function a(){let e=(0,o._)(["\n  mutation DeleteNote($noteId: String!) {\n    note: deleteNote(noteId: $noteId) {\n      _id\n    }\n  }\n"]);return a=function(){return e},e}let s=(0,r.Ps)(i()),l=(0,r.Ps)(a())},21654:function(e,t,n){"use strict";n.d(t,{EZ:function(){return u},GV:function(){return m},Vc:function(){return h},cK:function(){return b}});var o=n(82729),r=n(17283),i=n(31286);function a(){let e=(0,o._)(["\n  ","\n  mutation addUserProject(\n    $projectName: String!\n    $projectLink: String!\n    $projectInfo: String!\n    $isProjectPublic: Boolean\n    $projectImage: String\n    $extraContentId: String\n    $sourceURL: String\n    $courseId: String\n  ) {\n    addUserProject(\n      projectName: $projectName\n      projectLink: $projectLink\n      projectInfo: $projectInfo\n      isProjectPublic: $isProjectPublic\n      projectImage: $projectImage\n      extraContentId: $extraContentId\n      sourceURL: $sourceURL\n      courseId: $courseId\n    ) {\n      ...UserProjectAttributes\n    }\n  }\n"]);return a=function(){return e},e}function s(){let e=(0,o._)(["\n  ","\n  mutation updateUserProject(\n    $_id: String!\n    $projectName: String\n    $projectLink: String\n    $projectInfo: String\n    $isProjectPublic: Boolean\n    $projectImage: String\n  ) {\n    updateUserProject(\n      _id: $_id\n      projectName: $projectName\n      projectLink: $projectLink\n      projectInfo: $projectInfo\n      isProjectPublic: $isProjectPublic\n      projectImage: $projectImage\n    ) {\n      ...UserProjectAttributes\n    }\n  }\n"]);return s=function(){return e},e}function l(){let e=(0,o._)(["\n  mutation removeUserProject($_id: String!) {\n    removeUserProject(_id: $_id) {\n      _id\n    }\n  }\n"]);return l=function(){return e},e}function c(){let e=(0,o._)(["\n  mutation updateReviewHistoryAndPoints($_id: String!, $point: Int!, $extraContentId: String!) {\n    updateReviewHistoryAndPoints(_id: $_id, point: $point, extraContentId: $extraContentId) {\n      _id\n    }\n  }\n"]);return c=function(){return e},e}function d(){let e=(0,o._)(["\n  mutation removeUserProjectCoverImage($projectId: String!) {\n    article: removeUserProjectCoverImage(projectId: $projectId) {\n      _id\n    }\n  }\n"]);return d=function(){return e},e}let u=(0,r.Ps)(a(),i.C),m=(0,r.Ps)(s(),i.C),h=(0,r.Ps)(l());(0,r.Ps)(c());let b=(0,r.Ps)(d())},58606:function(e,t,n){"use strict";n.d(t,{X:function(){return l},l:function(){return s}});var o=n(82729),r=n(17283);function i(){let e=(0,o._)(["\n  query getCourseNote($courseId: String!) {\n    getCourseNote(courseId: $courseId) {\n      _id\n      body\n      courseId\n      title\n      userId\n    }\n  }\n"]);return i=function(){return e},e}function a(){let e=(0,o._)(["\n  query getAllNotes {\n    notes: getAllNotes {\n      _id\n      body\n      bodyJSON\n      courseId\n      title\n      userId\n    }\n  }\n"]);return a=function(){return e},e}let s=(0,r.Ps)(i()),l=(0,r.Ps)(a())},46601:function(){},89214:function(){},42480:function(){},22868:function(){},14777:function(){},99830:function(){},70209:function(){}},function(e){e.O(0,[4434,5194,5762,3662,4497,919,8093,4076,1559,2663,3267,823,5625,2746,9774,2888,179],function(){return e(e.s=75245)}),_N_E=e.O()}]);